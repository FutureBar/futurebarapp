(function(o,p,m){"function"==typeof define&&define.amd?define(["jquery"],function(w){return m(w,o,p),w.mobile}):m(o.jQuery,o,p)})(this,document,function(o,p,m,w){(function(a,e,c){var d={};a.mobile=a.extend({},{version:"1.2.0",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",
pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,
PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(b){"number"!==a.type(b)&&(b=a.mobile.defaultHomeScroll);a.event.special.scrollstart.enabled=!1;setTimeout(function(){e.scrollTo(0,b);a(m).trigger("silentscroll",{x:0,y:b})},20);setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:d,nsNormalize:function(b){return!b?void 0:d[b]||(d[b]=a.camelCase(a.mobile.ns+b))},getInheritedTheme:function(a,b){for(var c=a[0],g=
"",d=/ui-(bar|body|overlay)-([a-z])\b/,e,r;c&&(!(e=c.className||"")||!(r=d.exec(e))||!(g=r[2]));)c=c.parentNode;return g||b||"a"},closestPageData:function(a){return a.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")},enhanceable:function(a){return this.haveParents(a,"enhance")},hijackable:function(a){return this.haveParents(a,"ajax")},haveParents:function(b,c){if(!a.mobile.ignoreContentEnabled)return b;for(var g=b.length,d=a(),e,k,r,n=0;n<g;n++){k=b.eq(n);r=!1;for(e=b[n];e;){if("false"===
(e.getAttribute?e.getAttribute("data-"+a.mobile.ns+c):"")){r=!0;break}e=e.parentNode}r||(d=d.add(k))}return d},getScreenHeight:function(){return e.innerHeight||a(e).height()}},a.mobile);a.fn.jqmData=function(b,g){var d;return"undefined"!=typeof b&&(b&&(b=a.mobile.nsNormalize(b)),2>arguments.length||g===c?d=this.data(b):d=this.data(b,g)),d};a.jqmData=function(b,g,c){var d;return"undefined"!=typeof g&&(d=a.data(b,g?a.mobile.nsNormalize(g):g,c)),d};a.fn.jqmRemoveData=function(b){return this.removeData(a.mobile.nsNormalize(b))};
a.jqmRemoveData=function(b,g){return a.removeData(b,a.mobile.nsNormalize(g))};a.fn.removeWithDependents=function(){a.removeWithDependents(this)};a.removeWithDependents=function(b){b=a(b);(b.jqmData("dependents")||a()).remove();b.remove()};a.fn.addDependents=function(b){a.addDependents(a(this),b)};a.addDependents=function(b,g){var c=a(b).jqmData("dependents")||a();a(b).jqmData("dependents",a.merge(c,g))};a.fn.getEncodedText=function(){return a("<div/>").text(a(this).text()).html()};a.fn.jqmEnhanceable=
function(){return a.mobile.enhanceable(this)};a.fn.jqmHijackable=function(){return a.mobile.hijackable(this)};var b=a.find,g=/:jqmData\(([^)]*)\)/g;a.find=function(c,d,f,e){return c=c.replace(g,"[data-"+(a.mobile.ns||"")+"$1]"),b.call(this,c,d,f,e)};a.extend(a.find,b);a.find.matches=function(b,g){return a.find(b,null,null,g)};a.find.matchesSelector=function(b,g){return 0<a.find(g,null,null,[b]).length}})(o,this);(function(a,e){var c=0,d=Array.prototype.slice,b=a.cleanData;a.cleanData=function(g){for(var c=
0,d;null!=(d=g[c]);c++)try{a(d).triggerHandler("remove")}catch(f){}b(g)};a.widget=function(b,c,d){var f,e,l,k,r=b.split(".")[0],b=b.split(".")[1];f=r+"-"+b;d||(d=c,c=a.Widget);a.expr[":"][f]=function(b){return!!a.data(b,f)};a[r]=a[r]||{};e=a[r][b];l=a[r][b]=function(a,b){if(!this._createWidget)return new l(a,b);arguments.length&&this._createWidget(a,b)};a.extend(l,e,{version:d.version,_proto:a.extend({},d),_childConstructors:[]});k=new c;k.options=a.widget.extend({},k.options);a.each(d,function(b,
g){a.isFunction(g)&&(d[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},d=function(a){return c.prototype[b].apply(this,a)};return function(){var b=this._super,c=this._superApply,j;return this._super=a,this._superApply=d,j=g.apply(this,arguments),this._super=b,this._superApply=c,j}}())});l.prototype=a.widget.extend(k,{widgetEventPrefix:b},d,{constructor:l,namespace:r,widgetName:b,widgetBaseClass:f,widgetFullName:f});e?(a.each(e._childConstructors,function(b,c){var g=c.prototype;
a.widget(g.namespace+"."+g.widgetName,l,c._proto)}),delete e._childConstructors):c._childConstructors.push(l);a.widget.bridge(b,l)};a.widget.extend=function(b){for(var c=d.call(arguments,1),h=0,f=c.length,i,l;h<f;h++)for(i in c[h])l=c[h][i],c[h].hasOwnProperty(i)&&l!==e&&(b[i]=a.isPlainObject(l)?a.widget.extend({},b[i],l):l);return b};a.widget.bridge=function(b,c){var h=c.prototype.widgetFullName;a.fn[b]=function(f){var i="string"==typeof f,l=d.call(arguments,1),k=this;return f=!i&&l.length?a.widget.extend.apply(null,
[f].concat(l)):f,i?this.each(function(){var c,d=a.data(this,h);if(!d)return a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'");if(!a.isFunction(d[f])||"_"===f.charAt(0))return a.error("no such method '"+f+"' for "+b+" widget instance");c=d[f].apply(d,l);if(c!==d&&c!==e)return k=c&&c.jquery?k.pushStack(c.get()):c,!1}):this.each(function(){var b=a.data(this,h);b?b.option(f||{})._init():new c(f,this)}),k}};a.Widget=function(){};a.Widget._childConstructors=
[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0];this.element=a(d);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},this.options,this._getCreateOptions(),b);this.bindings=a();this.hoverable=a();this.focusable=a();d!==this&&(a.data(d,this.widgetName,this),a.data(d,this.widgetFullName,this),this._on({remove:"destroy"}),
this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+
"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d=b,f,i,l;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(d={},f=b.split("."),b=f.shift(),f.length){i=d[b]=a.widget.extend({},this.options[b]);for(l=0;l<f.length-1;l++)i[f[l]]=i[f[l]]||{},i=i[f[l]];b=f.pop();if(c===e)return i[b]===
e?null:i[b];i[b]=c}else{if(c===e)return this.options[b]===e?null:this.options[b];d[b]=c}return this._setOptions(d),this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",
!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c){c?(b=a(b),this.bindings=this.bindings.add(b)):(c=b,b=this.element);var d=this;a.each(c,function(c,e){function j(){return!0===d.options.disabled||a(this).hasClass("ui-state-disabled")?void 0:("string"==typeof e?d[e]:e).apply(d,arguments)}"string"!=typeof e&&(j.guid=e.guid=e.guid||j.guid||a.guid++);var k=c.match(/^(\w+)\s*(.*)$/),r=k[1]+d.eventNamespace;(k=k[2])?d.widget().delegate(k,r,j):b.bind(r,j)})},_off:function(a,
b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"==typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);
this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,i=this.options[b],d=d||{},c=a.Event(c);c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();c.target=this.element[0];if(b=c.originalEvent)for(e in b)e in c||(c[e]=b[e]);return this.element.trigger(c,d),!(a.isFunction(i)&&!1===i.apply(this.element[0],[c].concat(d))||c.isDefaultPrevented())}};a.each({show:"fadeIn",
hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,i){"string"==typeof e&&(e={effect:e});var l,k=e?!0===e||"number"==typeof e?c:e.effect||c:b,e=e||{};"number"==typeof e&&(e={duration:e});l=!a.isEmptyObject(e);e.complete=i;e.delay&&d.delay(e.delay);l&&a.effects&&(a.effects.effect[k]||!1!==a.uiBackCompat&&a.effects[k])?d[b](e):k!==b&&d[k]?d[k](e.duration,e.easing,i):d.queue(function(c){a(this)[b]();i&&i.call(d[0]);c()})}});!1!==a.uiBackCompat&&(a.Widget.prototype._getCreateOptions=
function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]})})(o);(function(a,e){a.widget("mobile.widget",{_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init")},_getCreateOptions:function(){var c=this.element,d={};return a.each(this.options,function(a){var g=c.jqmData(a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}));g!==e&&(d[a]=g)}),d},enhanceWithin:function(c,d){this.enhance(a(this.options.initSelector,a(c)),d)},enhance:function(c,
d){var b,g,e=a(c),e=a.mobile.enhanceable(e);d&&e.length&&(b=a.mobile.closestPageData(e),g=b&&b.keepNativeSelector()||"",e=e.not(g));e[this.widgetName]()},raise:function(a){throw"Widget ["+this.widgetName+"]: "+a;}})})(o);(function(a,e){a.extend(a.mobile,{loadingMessageTextVisible:w,loadingMessageTheme:w,loadingMessage:w,showPageLoadingMsg:function(b,c,d){a.mobile.loading("show",b,c,d)},hidePageLoadingMsg:function(){a.mobile.loading("hide")},loading:function(){this.loaderWidget.loader.apply(this.loaderWidget,
arguments)}});var c=a("html"),d=a(e);a.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='ui-loader'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var b=a("."+a.mobile.activeBtnClass).first();this.element.css({top:a.support.scrollTop&&d.scrollTop()+d.height()/2||b.length&&b.offset().top||100})},checkLoaderPosition:function(){var b=this.element.offset(),c=d.scrollTop(),e=a.mobile.getScreenHeight();if(b.top<
c||b.top-c>e)this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),d.unbind("scroll",this.checkLoaderPosition).bind("scroll",this.fakeFixLoader)},resetHtml:function(){this.element.html(a(this.defaultHtml).html())},show:function(b,g,e){var h,f,i;this.resetHtml();"object"===a.type(b)?(i=a.extend({},this.options,b),b=i.theme||a.mobile.loadingMessageTheme):(i=this.options,b=b||a.mobile.loadingMessageTheme||i.theme);f=g||a.mobile.loadingMessage||i.text;c.addClass("ui-loading");if(!1!==a.mobile.loadingMessage||
i.html)a.mobile.loadingMessageTextVisible!==w?h=a.mobile.loadingMessageTextVisible:h=i.textVisible,this.element.attr("class","ui-loader ui-corner-all ui-body-"+b+" ui-loader-"+(h||g||b.text?"verbose":"default")+(i.textonly||e?" ui-loader-textonly":"")),i.html?this.element.html(i.html):this.element.find("h1").text(f),this.element.appendTo(a.mobile.pageContainer),this.checkLoaderPosition(),d.bind("scroll",a.proxy(this.checkLoaderPosition,this))},hide:function(){c.removeClass("ui-loading");a.mobile.loadingMessage&&
this.element.removeClass("ui-loader-fakefix");a(e).unbind("scroll",a.proxy(this.fakeFixLoader,this));a(e).unbind("scroll",a.proxy(this.checkLoaderPosition,this))}});d.bind("pagecontainercreate",function(){a.mobile.loaderWidget=a.mobile.loaderWidget||a(a.mobile.loader.prototype.defaultHtml).loader()})})(o,this);(function(a,e,c,d){function b(a){for(;a&&"undefined"!=typeof a.originalEvent;)a=a.originalEvent;return a}function g(b){for(var c={},d,g;b;){d=a.data(b,q);for(g in d)d[g]&&(c[g]=c.hasVirtualBinding=
!0);b=b.parentNode}return c}function j(){z&&(clearTimeout(z),z=0);z=setTimeout(function(){E=z=0;A.length=0;K=!1;F=!0},a.vmouse.resetTimerDuration)}function h(c,g,e){var h,f;if(!(f=e&&e[c])){if(e=!e)a:{for(e=g.target;e;){if((f=a.data(e,q))&&(!c||f[c]))break a;e=e.parentNode}e=null}f=e}if(f){h=g;var e=h.type,j,k;h=a.Event(h);h.type=c;f=h.originalEvent;j=a.event.props;-1<e.search(/^(mouse|click)/)&&(j=s);if(f)for(k=j.length;k;)c=j[--k],h[c]=f[c];-1<e.search(/mouse(down|up)|click/)&&!h.which&&(h.which=
1);if(-1!==e.search(/^touch/)&&(c=b(f),e=c.touches,c=c.changedTouches,e=e&&e.length?e[0]:c&&c.length?c[0]:d)){f=0;for(j=u.length;f<j;f++)c=u[f],h[c]=e[c]}a(g.target).trigger(h)}return h}function f(b){var c=a.data(b.target,t);if(!K&&(!E||E!==c))(c=h("v"+b.type,b))&&(c.isDefaultPrevented()&&b.preventDefault(),c.isPropagationStopped()&&b.stopPropagation(),c.isImmediatePropagationStopped()&&b.stopImmediatePropagation())}function i(c){var d=b(c).touches,e;d&&1===d.length&&(e=c.target,d=g(e),d.hasVirtualBinding&&
(E=O++,a.data(e,t,E),z&&(clearTimeout(z),z=0),y=F=!1,e=b(c).touches[0],x=e.pageX,B=e.pageY,h("vmouseover",c,d),h("vmousedown",c,d)))}function l(a){F||(y||h("vmousecancel",a,g(a.target)),y=!0,j())}function k(c){if(!F){var d=b(c).touches[0],e=y,f=a.vmouse.moveDistanceThreshold,k=g(c.target);(y=y||Math.abs(d.pageX-x)>f||Math.abs(d.pageY-B)>f)&&!e&&h("vmousecancel",c,k);h("vmousemove",c,k);j()}}function r(a){if(!F){F=!0;var c=g(a.target),d;h("vmouseup",a,c);if(!y){var e=h("vclick",a,c);e&&e.isDefaultPrevented()&&
(d=b(a).changedTouches[0],A.push({touchID:E,x:d.clientX,y:d.clientY}),K=!0)}h("vmouseout",a,c);y=!1;j()}}function n(b){var b=a.data(b,q),c;if(b)for(c in b)if(b[c])return!0;return!1}function m(){}function o(b){var c=b.substr(1);return{setup:function(){n(this)||a.data(this,q,{});a.data(this,q)[b]=!0;p[b]=(p[b]||0)+1;1===p[b]&&H.bind(c,f);a(this).bind(c,m);L&&(p.touchstart=(p.touchstart||0)+1,1===p.touchstart&&H.bind("touchstart",i).bind("touchend",r).bind("touchmove",k).bind("scroll",l))},teardown:function(){--p[b];
p[b]||H.unbind(c,f);L&&(--p.touchstart,p.touchstart||H.unbind("touchstart",i).unbind("touchmove",k).unbind("touchend",r).unbind("scroll",l));var d=a(this),e=a.data(this,q);e&&(e[b]=!1);d.unbind(c,m);n(this)||d.removeData(q)}}}var q="virtualMouseBindings",t="virtualTouchID",e="vmouseover,vmousedown,vmousemove,vmouseup,vclick,vmouseout,vmousecancel".split(","),u="clientX,clientY,pageX,pageY,screenX,screenY".split(","),s=a.event.props.concat(a.event.mouseHooks?a.event.mouseHooks.props:[]),p={},z=0,x=
0,B=0,y=!1,A=[],K=!1,F=!1,L="addEventListener"in c,H=a(c),O=1,E=0,M;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var D=0;D<e.length;D++)a.event.special[e[D]]=o(e[D]);L&&c.addEventListener("click",function(b){var c=A.length,d=b.target,e,g,h,f,j;if(c){e=b.clientX;g=b.clientY;M=a.vmouse.clickDistanceThreshold;for(h=d;h;){for(f=0;f<c;f++)if(j=A[f],h===d&&Math.abs(j.x-e)<M&&Math.abs(j.y-g)<M||a.data(h,t)===j.touchID){b.preventDefault();b.stopPropagation();return}h=
h.parentNode}}},!0)})(o,p,m);(function(a){var e={touch:"ontouchend"in m};a.mobile=a.mobile||{};a.mobile.support=a.mobile.support||{};a.extend(a.support,e);a.extend(a.mobile.support,e)})(o);(function(a,e,c){function d(b,c,d){var e=d.type;d.type=c;a.event.handle.call(b,d);d.type=e}a.each("touchstart,touchmove,touchend,tap,taphold,swipe,swipeleft,swiperight,scrollstart,scrollstop".split(","),function(b,c){a.fn[c]=function(a){return a?this.bind(c,a):this.trigger(c)};a.attrFn&&(a.attrFn[c]=true)});var b=
(e=a.mobile.support.touch)?"touchstart":"mousedown",g=e?"touchend":"mouseup",j=e?"touchmove":"mousemove";a.event.special.scrollstart={enabled:!0,setup:function(){function b(a,g){e=g;d(c,e?"scrollstart":"scrollstop",a)}var c=this,e,g;a(c).bind("touchmove scroll",function(c){a.event.special.scrollstart.enabled&&(e||b(c,!0),clearTimeout(g),g=setTimeout(function(){b(c,!1)},50))})}};a.event.special.tap={tapholdThreshold:750,setup:function(){var b=this,c=a(b);c.bind("vmousedown",function(e){function g(){clearTimeout(N)}
function j(){g();c.unbind("vclick",r).unbind("vmouseup",g);a(m).unbind("vmousecancel",j)}function r(a){j();n===a.target&&d(b,"tap",a)}if(e.which&&1!==e.which)return!1;var n=e.target,N;c.bind("vmouseup",g).bind("vclick",r);a(m).bind("vmousecancel",j);N=setTimeout(function(){d(b,"taphold",a.Event("taphold",{target:n}))},a.event.special.tap.tapholdThreshold)})}};a.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1E3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var d=
a(this);d.bind(b,function(b){function e(b){if(k){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b;r={time:(new Date).getTime(),coords:[c.pageX,c.pageY]};Math.abs(k.coords[0]-r.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&b.preventDefault()}}var l=b.originalEvent.touches?b.originalEvent.touches[0]:b,k={time:(new Date).getTime(),coords:[l.pageX,l.pageY],origin:a(b.target)},r;d.bind(j,e).one(g,function(){d.unbind(j,e);k&&r&&r.time-k.time<a.event.special.swipe.durationThreshold&&
Math.abs(k.coords[0]-r.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(k.coords[1]-r.coords[1])<a.event.special.swipe.verticalDistanceThreshold&&k.origin.trigger("swipe").trigger(k.coords[0]>r.coords[0]?"swipeleft":"swiperight");k=r=c})})}};a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(b,c){a.event.special[b]={setup:function(){a(this).bind(c,a.noop)}}})})(o,this);o.extend(o.support,{orientation:"orientation"in p&&"onorientationchange"in
p});(function(a){a.event.special.throttledresize={setup:function(){a(this).bind("resize",e)},teardown:function(){a(this).unbind("resize",e)}};var e=function(){b=(new Date).getTime();g=b-c;250<=g?(c=b,a(this).trigger("throttledresize")):(d&&clearTimeout(d),d=setTimeout(e,250-g))},c=0,d,b,g})(o);(function(a,e){function c(){var a=g();a!==j&&(j=a,d.trigger(b))}var d=a(e),b="orientationchange",g,j,h,f,i={"0":!0,180:!0};if(a.support.orientation&&(h=e.innerWidth||a(e).width(),f=e.innerHeight||a(e).height(),
h=h>f&&50<h-f,f=i[e.orientation],h&&f||!h&&!f))i={"-90":!0,90:!0};a.event.special.orientationchange=a.extend({},a.event.special.orientationchange,{setup:function(){if(a.support.orientation&&!a.event.special.orientationchange.disabled)return!1;j=g();d.bind("throttledresize",c)},teardown:function(){if(a.support.orientation&&!a.event.special.orientationchange.disabled)return!1;d.unbind("throttledresize",c)},add:function(a){var b=a.handler;a.handler=function(a){return a.orientation=g(),b.apply(this,arguments)}}});
a.event.special.orientationchange.orientation=g=function(){return"portrait"};a.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)};a.attrFn&&(a.attrFn[b]=!0)})(o,this);(function(a){a(p);var e=a("html");a.mobile.media=function(){var c={},d=a("<div id='jquery-mediatest'></div>"),b=a("<body>").append(d);return function(a){if(!(a in c)){var j=m.createElement("style"),h="@media "+a+" { #jquery-mediatest { position:absolute; } }";j.type="text/css";j.styleSheet?j.styleSheet.cssText=h:j.appendChild(m.createTextNode(h));
e.prepend(b).prepend(j);c[a]="absolute"===d.css("position");b.add(j).remove()}return c[a]}}()})(o);(function(a,e){function c(a){var b=a.charAt(0).toUpperCase()+a.substr(1),a=(a+" "+j.join(b+" ")+b).split(" "),c;for(c in a)if(g[a[c]]!==e)return!0}function d(a,b,c){for(var d=m.createElement("div"),c=c?[c]:j,e,g=0;g<c.length;g++){var h=c[g],f="-"+h.charAt(0).toLowerCase()+h.substr(1)+"-"+a+": "+b+";",h=h.charAt(0).toUpperCase()+h.substr(1)+(a.charAt(0).toUpperCase()+a.substr(1));d.setAttribute("style",
f);!d.style[h]||(e=!0)}return!!e}var b=a("<body>").prependTo("html"),g=b[0].style,j=["Webkit","Moz","O"],h="palmGetResource"in p,f=p.opera,i=p.operamini&&"[object OperaMini]"==={}.toString.call(p.operamini),l=p.blackberry&&!c("-webkit-transform");a.extend(a.mobile,{browser:{}});a.mobile.browser.ie=function(){var a=3,b=m.createElement("div"),c=b.all||[];do b.innerHTML="<\!--[if gt IE "+ ++a+"]><br><![endif]--\>";while(c[0]);return 4<a?a:!a}();a.extend(a.support,{cssTransitions:"WebKitTransitionEvent"in
p||d("transition","height 100ms linear")&&!f,pushState:"pushState"in history&&"replaceState"in history,mediaquery:a.mobile.media("only all"),cssPseudoElement:!!c("content"),touchOverflow:!!c("overflowScrolling"),cssTransform3d:d("perspective","10px","moz")||a.mobile.media("(-"+j.join("-transform-3d),(-")+"-transform-3d),(transform-3d)"),boxShadow:!!c("boxShadow")&&!l,scrollTop:("pageXOffset"in p||"scrollTop"in m.documentElement||"scrollTop"in b[0])&&!h&&!i,dynamicBaseTag:function(){var c=location.protocol+
"//"+location.host+location.pathname+"ui-dir/",d=a("head base"),e=null,g="",h,f;return d.length?g=d.attr("href"):d=e=a("<base>",{href:c}).appendTo("head"),h=a("<a href='testurl' />").prependTo(b),f=h[0].href,d[0].href=g||location.pathname,e&&e.remove(),0===f.indexOf(c)}(),cssPointerEvents:function(){var a=m.createElement("x"),b=m.documentElement,c=p.getComputedStyle,d;return"pointerEvents"in a.style?(a.style.pointerEvents="auto",a.style.pointerEvents="x",b.appendChild(a),d=c&&"auto"===c(a,"").pointerEvents,
b.removeChild(a),!!d):!1}(),boundingRect:"undefined"!=typeof m.createElement("div").getBoundingClientRect});b.remove();h=function(){var a=p.navigator.userAgent;return-1<a.indexOf("Nokia")&&(-1<a.indexOf("Symbian/3")||-1<a.indexOf("Series60/5"))&&-1<a.indexOf("AppleWebKit")&&a.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();a.mobile.gradeA=function(){return(a.support.mediaquery||a.mobile.browser.ie&&7<=a.mobile.browser.ie)&&(a.support.boundingRect||null!==a.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))};a.mobile.ajaxBlacklist=
p.blackberry&&!p.WebKitPoint||i||h;h&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")});a.support.boxShadow||a("html").addClass("ui-mobile-nosupport-boxshadow")})(o);(function(a){a.widget("mobile.page",a.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){var a=this;if(!1===a._trigger("beforecreate"))return!1;a.element.attr("tabindex","0").addClass("ui-page ui-body-"+
a.options.theme).bind("pagebeforehide",function(){a.removeContainerBackground()}).bind("pagebeforeshow",function(){a.setContainerBackground()})},removeContainerBackground:function(){a.mobile.pageContainer.removeClass("ui-overlay-"+a.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(e){this.options.theme&&a.mobile.pageContainer.addClass("ui-overlay-"+(e||this.options.theme))},keepNativeSelector:function(){var e=this.options;return e.keepNative&&a.trim(e.keepNative)&&
e.keepNative!==e.keepNativeDefault?[e.keepNative,e.keepNativeDefault].join(", "):e.keepNativeDefault}})})(o);(function(a,e,c){function d(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var b="hashchange",g=m,j,h=a.event.special,f=g.documentMode,i="on"+b in e&&(f===c||7<f);a.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)};a.fn[b].delay=50;h[b]=a.extend(h[b],{setup:function(){if(i)return!1;a(j.start)},teardown:function(){if(i)return!1;a(j.stop)}});j=function(){function h(){var c=
d(),g=q(n);c!==n?(o(n=c,g),a(e).trigger(b)):g!==n&&(location.href=location.href.replace(/#.*/,"")+g);j=setTimeout(h,a.fn[b].delay)}var f={},j,n=d(),m=function(a){return a},o=m,q=m;return f.start=function(){j||h()},f.stop=function(){j&&clearTimeout(j);j=c},a.browser.msie&&!i&&function(){var c,e;f.start=function(){c||(e=a.fn[b].src,e=e&&e+d(),c=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){e||o(d());h()}).attr("src",e||"javascript:0").insertAfter("body")[0].contentWindow,g.onpropertychange=
function(){try{"title"===event.propertyName&&(c.document.title=g.title)}catch(a){}})};f.stop=m;q=function(){return d(c.location.href)};o=function(d,e){var h=c.document,f=a.fn[b].domain;d!==e&&(h.title=g.title,h.open(),f&&h.write('<script>document.domain="'+f+'"<\/script>'),h.close(),c.location.hash=d)}}(),f}()})(o,this);(function(a,e,c){var d=function(b){return b===c&&(b=!0),function(c,d,f,i){var l=new a.Deferred,k=d?" reverse":"",m=a.mobile.urlHistory.getActive().lastScroll||a.mobile.defaultHomeScroll,
n=a.mobile.getScreenHeight(),o=!1!==a.mobile.maxTransitionWidth&&a(e).width()>a.mobile.maxTransitionWidth,p=!a.support.cssTransitions||o||!c||"none"===c||Math.max(a(e).scrollTop(),m)>a.mobile.getMaxScrollForTransition(),q=function(){a.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+c)},t=function(){a.event.special.scrollstart.enabled=!1;e.scrollTo(0,m);setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},u=function(){i.removeClass(a.mobile.activePageClass+
" out in reverse "+c).height("")},o=function(){i&&b&&u();f.css("z-index",-10);f.addClass(a.mobile.activePageClass+" ui-page-pre-in");a.mobile.focusPage(f);f.height(n+m);t();f.css("z-index","");p||f.animationComplete(s);f.removeClass(" ui-page-pre-in").addClass(c+" in"+k);p&&s()},s=function(){b||i&&u();f.removeClass("out in reverse "+c).height("");q();a(e).scrollTop()!==m&&t();l.resolve(c,d,f,i,!0)};q();i&&!p?(b?i.animationComplete(o):o(),i.height(n+a(e).scrollTop()).addClass(c+" out"+k)):o();return l.promise()}},
b=d(),d=d(!1);a.mobile.defaultTransitionHandler=b;a.mobile.transitionHandlers={"default":a.mobile.defaultTransitionHandler,sequential:b,simultaneous:d};a.mobile.transitionFallbacks={};a.mobile._maybeDegradeTransition=function(b){return b&&!a.support.cssTransform3d&&a.mobile.transitionFallbacks[b]&&(b=a.mobile.transitionFallbacks[b]),b};a.mobile.getMaxScrollForTransition=a.mobile.getMaxScrollForTransition||function(){return 3*a.mobile.getScreenHeight()}})(o,this);(function(a,e){function c(b){r&&(!r.closest("."+
a.mobile.activePageClass).length||b)&&r.removeClass(a.mobile.activeBtnClass);r=null}function d(){v=!1;0<o.length&&a.mobile.changePage.apply(null,o.pop())}function b(b,c,d,e){c&&c.data("page")._trigger("beforehide",null,{nextPage:b});b.data("page")._trigger("beforeshow",null,{prevPage:c||a("")});a.mobile.hidePageLoadingMsg();d=a.mobile._maybeDegradeTransition(d);d=(a.mobile.transitionHandlers[d||"default"]||a.mobile.defaultTransitionHandler)(d,e,b,c);return d.done(function(){c&&c.data("page")._trigger("hide",
null,{nextPage:b});b.data("page")._trigger("show",null,{prevPage:c||a("")})}),d}function g(){var b=a("."+a.mobile.activePageClass),c=parseFloat(b.css("padding-top")),d=parseFloat(b.css("padding-bottom")),e=parseFloat(b.css("border-top-width")),g=parseFloat(b.css("border-bottom-width"));b.css("min-height",z()-c-d-e-g)}function j(b,c){c&&b.attr("data-"+a.mobile.ns+"role",c);b.page()}function h(a){for(;a&&!("string"==typeof a.nodeName&&"a"===a.nodeName.toLowerCase());)a=a.parentNode;return a}function f(b){var b=
a(b).closest(".ui-page").jqmData("url"),c=s.hrefNoHash;if(!b||!k.isPath(b))b=c;return k.makeUrlAbsolute(b,c)}var i=a(p);a("html");var l=a("head"),k={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(a){var b=a?this.parseUrl(a):location,a=this.parseUrl(a||location.href).hash;return a="#"===a?"":a,b.protocol+"//"+b.host+b.pathname+b.search+
a},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(b){if("object"===a.type(b))return b;b=k.urlParseRE.exec(b||"")||[];return{href:b[0]||"",hrefNoHash:b[1]||"",hrefNoSearch:b[2]||"",domain:b[3]||"",protocol:b[4]||"",doubleSlash:b[5]||"",authority:b[6]||"",username:b[8]||"",password:b[9]||"",host:b[10]||"",hostname:b[11]||"",port:b[12]||"",pathname:b[13]||"",directory:b[14]||"",filename:b[15]||"",search:b[16]||"",hash:b[17]||""}},makePathAbsolute:function(a,b){if(a&&
"/"===a.charAt(0))return a;for(var a=a||"",c=(b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?b.split("/"):[],d=a.split("/"),e=0;e<d.length;e++){var g=d[e];switch(g){case ".":break;case "..":c.length&&c.pop();break;default:c.push(g)}}return"/"+c.join("/")},isSameDomain:function(a,b){return k.parseUrl(a).domain===k.parseUrl(b).domain},isRelativeUrl:function(a){return""===k.parseUrl(a).protocol},isAbsoluteUrl:function(a){return""!==k.parseUrl(a).protocol},makeUrlAbsolute:function(a,b){if(!k.isRelativeUrl(a))return a;
b===e&&(b=s);var c=k.parseUrl(a),d=k.parseUrl(b),g=c.protocol||d.protocol,h=c.protocol?c.doubleSlash:c.doubleSlash||d.doubleSlash,f=c.authority||d.authority,j=""!==c.pathname,i=k.makePathAbsolute(c.pathname||d.filename,d.pathname);return g+h+f+i+(c.search||!j&&d.search||"")+c.hash},addSearchParams:function(b,c){var d=k.parseUrl(b),e="object"==typeof c?a.param(c):c,g=d.search||"?";return d.hrefNoSearch+g+("?"!==g.charAt(g.length-1)?"&":"")+e+(d.hash||"")},convertUrlToDataUrl:function(a){var b=k.parseUrl(a);
return k.isEmbeddedPage(b)?b.hash.split(q)[0].replace(/^#/,""):k.isSameDomain(b,s)?b.hrefNoHash.replace(s.domain,"").split(q)[0]:p.decodeURIComponent(a)},get:function(a){return a===e&&(a=k.parseLocation().hash),k.stripHash(a).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(b){var c="&"+a.mobile.subPageUrlKey;return b&&b.split(c)[0].split(q)[0]},set:function(a){location.hash=a},isPath:function(a){return/\//.test(a)},clean:function(a){return a.replace(s.domain,"")},stripHash:function(a){return a.replace(/^#/,
"")},cleanHash:function(a){return k.stripHash(a.replace(/\?.*$/,"").replace(q,""))},isHashValid:function(a){return/^#[^#]+$/.test(a)},isExternal:function(a){a=k.parseUrl(a);return a.protocol&&a.domain!==u.domain?!0:!1},hasProtocol:function(a){return/^(:?\w+:)/.test(a)},isFirstPageUrl:function(b){var b=k.parseUrl(k.makeUrlAbsolute(b,s)),c=a.mobile.firstPage,c=c&&c[0]?c[0].id:e;return(b.hrefNoHash===u.hrefNoHash||C&&b.hrefNoHash===s.hrefNoHash)&&(!b.hash||"#"===b.hash||c&&b.hash.replace(/^#/,"")===
c)},isEmbeddedPage:function(a){a=k.parseUrl(a);return""!==a.protocol?a.hash&&(a.hrefNoHash===u.hrefNoHash||C&&a.hrefNoHash===s.hrefNoHash):/^#/.test(a.href)},isPermittedCrossDomainRequest:function(b,c){return a.mobile.allowCrossDomainPages&&"file:"===b.protocol&&-1!==c.search(/^https?:/)}},r=null,n={stack:[],activeIndex:0,getActive:function(){return n.stack[n.activeIndex]},getPrev:function(){return n.stack[n.activeIndex-1]},getNext:function(){return n.stack[n.activeIndex+1]},addNew:function(a,b,c,
d,e){n.getNext()&&n.clearForward();n.stack.push({url:a,transition:b,title:c,pageUrl:d,role:e});n.activeIndex=n.stack.length-1},clearForward:function(){n.stack=n.stack.slice(0,n.activeIndex+1)},directHashChange:function(b){var c,d,g;this.getActive();a.each(n.stack,function(a,e){decodeURIComponent(b.currentUrl)===decodeURIComponent(e.url)&&(c=a<n.activeIndex,d=!c,g=a)});this.activeIndex=g!==e?g:this.activeIndex;c?(b.either||b.isBack)(!0):d&&(b.either||b.isForward)(!1)},ignoreNextHashChange:!1},o=[],
v=!1,q="&ui-state=dialog",t=l.children("base"),u=k.parseLocation(),s=t.length?k.parseUrl(k.makeUrlAbsolute(t.attr("href"),u.href)):u,C=u.hrefNoHash!==s.hrefNoHash,z=a.mobile.getScreenHeight,x=a.support.dynamicBaseTag?{element:t.length?t:a("<base>",{href:s.hrefNoHash}).prependTo(l),set:function(a){x.element.attr("href",k.makeUrlAbsolute(a,s))},reset:function(){x.element.attr("href",s.hrefNoHash)}}:e;a.mobile.back=function(){var a=p.navigator;this.phonegapNavigationEnabled&&a&&a.app&&a.app.backHistory?
a.app.backHistory():p.history.back()};a.mobile.focusPage=function(a){var b=a.find("[autofocus]"),c=a.find(".ui-title:eq(0)");b.length?b.focus():c.length?c.focus():a.focus()};var B=!0,y,A;y=function(){if(B){var b=a.mobile.urlHistory.getActive();if(b){var c=i.scrollTop();b.lastScroll=c<a.mobile.minScrollBack?a.mobile.defaultHomeScroll:c}}};A=function(){setTimeout(y,100)};i.bind(a.support.pushState?"popstate":"hashchange",function(){B=!1});i.one(a.support.pushState?"popstate":"hashchange",function(){B=
!0});i.one("pagecontainercreate",function(){a.mobile.pageContainer.bind("pagechange",function(){B=!0;i.unbind("scrollstop",A);i.bind("scrollstop",A)})});i.bind("scrollstop",A);a.mobile._maybeDegradeTransition=a.mobile._maybeDegradeTransition||function(a){return a};a.fn.animationComplete=function(b){return a.support.cssTransitions?a(this).one("webkitAnimationEnd animationend",b):(setTimeout(b,0),a(this))};a.mobile.path=k;a.mobile.base=x;a.mobile.urlHistory=n;a.mobile.dialogHashKey=q;a.mobile.allowCrossDomainPages=
!1;a.mobile.getDocumentUrl=function(b){return b?a.extend({},u):u.href};a.mobile.getDocumentBase=function(b){return b?a.extend({},s):s.href};a.mobile._bindPageRemove=function(){var b=a(this);!b.data("page").options.domCache&&b.is(":jqmData(external-page='true')")&&b.bind("pagehide.remove",function(){var b=a(this),c=new a.Event("pageremove");b.trigger(c);c.isDefaultPrevented()||b.removeWithDependents()})};a.mobile.loadPage=function(b,c){var d=a.Deferred(),g=a.extend({},a.mobile.loadPage.defaults,c),
h=null,i=null,l=k.makeUrlAbsolute(b,a.mobile.activePage&&f(a.mobile.activePage)||s.hrefNoHash);g.data&&"get"===g.type&&(l=k.addSearchParams(l,g.data),g.data=e);g.data&&"post"===g.type&&(g.reloadPage=!0);var n=k.getFilePath(l),q=k.convertUrlToDataUrl(l);g.pageContainer=g.pageContainer||a.mobile.pageContainer;h=g.pageContainer.children("[data-"+a.mobile.ns+"url='"+q+"']");0===h.length&&q&&!k.isPath(q)&&(h=g.pageContainer.children("#"+q).attr("data-"+a.mobile.ns+"url",q).jqmData("url",q));if(0===h.length)if(a.mobile.firstPage&&
k.isFirstPageUrl(n))a.mobile.firstPage.parent().length&&(h=a(a.mobile.firstPage));else if(k.isEmbeddedPage(n))return d.reject(l,c),d.promise();if(h.length){if(!g.reloadPage)return j(h,g.role),d.resolve(l,c,h),d.promise();i=h}var m=g.pageContainer,r=new a.Event("pagebeforeload"),t={url:b,absUrl:l,dataUrl:q,deferred:d,options:g};m.trigger(r,t);if(r.isDefaultPrevented())return d.promise();if(g.showLoadMsg)var o=setTimeout(function(){a.mobile.showPageLoadingMsg()},g.loadMsgDelay);return x&&x.reset(),
!a.mobile.allowCrossDomainPages&&!k.isSameDomain(u,l)?d.reject(l,c):a.ajax({url:n,type:g.type,data:g.data,dataType:"html",success:function(e,f,m){var r=a("<div></div>"),s=e.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,p=RegExp("\\bdata-"+a.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");RegExp("(<[^>]+\\bdata-"+a.mobile.ns+"role=[\"']?page[\"']?[^>]*>)").test(e)&&RegExp.$1&&p.test(RegExp.$1)&&RegExp.$1&&(b=n=k.getFilePath(a("<div>"+RegExp.$1+"</div>").text()));x&&x.set(n);r.get(0).innerHTML=e;h=r.find(":jqmData(role='page'), :jqmData(role='dialog')").first();
h.length||(h=a("<div data-"+a.mobile.ns+"role='page'>"+e.split(/<\/?body[^>]*>/gmi)[1]+"</div>"));s&&!h.jqmData("title")&&(~s.indexOf("&")&&(s=a("<div>"+s+"</div>").text()),h.jqmData("title",s));if(!a.support.dynamicBaseTag){var u=k.get(n);h.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var b=a(this).is("[href]")?"href":a(this).is("[src]")?"src":"action",c=a(this).attr(b),c=c.replace(location.protocol+"//"+location.host+location.pathname,"");/^(\w+:|#|\/)/.test(c)||
a(this).attr(b,u+c)})}h.attr("data-"+a.mobile.ns+"url",k.convertUrlToDataUrl(n)).attr("data-"+a.mobile.ns+"external-page",!0).appendTo(g.pageContainer);h.one("pagecreate",a.mobile._bindPageRemove);j(h,g.role);-1<l.indexOf("&"+a.mobile.subPageUrlKey)&&(h=g.pageContainer.children("[data-"+a.mobile.ns+"url='"+q+"']"));g.showLoadMsg&&(clearTimeout(o),a.mobile.hidePageLoadingMsg());t.xhr=m;t.textStatus=f;t.page=h;g.pageContainer.trigger("pageload",t);d.resolve(l,c,h,i)},error:function(b,e,h){x&&x.set(k.get());
t.xhr=b;t.textStatus=e;t.errorThrown=h;b=new a.Event("pageloadfailed");g.pageContainer.trigger(b,t);b.isDefaultPrevented()||(g.showLoadMsg&&(clearTimeout(o),a.mobile.hidePageLoadingMsg(),a.mobile.showPageLoadingMsg(a.mobile.pageLoadErrorMessageTheme,a.mobile.pageLoadErrorMessage,!0),setTimeout(a.mobile.hidePageLoadingMsg,1500)),d.reject(l,c))}}),d.promise()};a.mobile.loadPage.defaults={type:"get",data:e,reloadPage:!1,role:e,showLoadMsg:!1,pageContainer:e,loadMsgDelay:50};a.mobile.changePage=function(g,
h){if(v)o.unshift(arguments);else{var f=a.extend({},a.mobile.changePage.defaults,h);f.pageContainer=f.pageContainer||a.mobile.pageContainer;f.fromPage=f.fromPage||a.mobile.activePage;var i=f.pageContainer,l=new a.Event("pagebeforechange"),r={toPage:g,options:f};i.trigger(l,r);if(!l.isDefaultPrevented())if(g=r.toPage,v=!0,"string"==typeof g)a.mobile.loadPage(g,f).done(function(b,c,d,e){v=!1;c.duplicateCachedPage=e;a.mobile.changePage(d,c)}).fail(function(){v=!1;c(!0);d();f.pageContainer.trigger("pagechangefailed",
r)});else{g[0]===a.mobile.firstPage[0]&&!f.dataUrl&&(f.dataUrl=u.hrefNoHash);var l=f.fromPage,t=f.dataUrl&&k.convertUrlToDataUrl(f.dataUrl)||g.jqmData("url"),s=t;k.getFilePath(t);var p=n.getActive(),z=0===n.activeIndex,x=0,C=m.title,B="dialog"===f.role||"dialog"===g.jqmData("role");if(l&&l[0]===g[0]&&!f.allowSamePageTransition)v=!1,i.trigger("pagechange",r),f.fromHashChange&&n.directHashChange({currentUrl:t,isBack:function(){},isForward:function(){}});else{j(g,f.role);f.fromHashChange&&n.directHashChange({currentUrl:t,
isBack:function(){x=-1},isForward:function(){x=1}});try{m.activeElement&&"body"!==m.activeElement.nodeName.toLowerCase()?a(m.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(y){}var A=!1;B&&p&&(-1<p.url.indexOf(q)&&!a.mobile.activePage.is(".ui-dialog")&&(f.changeHash=!1,A=!0),t=(p.url||"")+(A?"":q),0===n.activeIndex&&t===n.initialDst&&(t+=q));!1!==f.changeHash&&t&&(n.ignoreNextHashChange=!0,k.set(t));var w=p?g.jqmData("title")||g.children(":jqmData(role='header')").find(".ui-title").getEncodedText():
C;w&&C===m.title&&(C=w);g.jqmData("title")||g.jqmData("title",C);f.transition=f.transition||(x&&!z?p.transition:e)||(B?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition);x||(A&&(n.activeIndex=Math.max(0,n.activeIndex-1)),n.addNew(t,f.transition,C,s,f.role));m.title=n.getActive().title;a.mobile.activePage=g;f.reverse=f.reverse||0>x;b(g,l,f.transition,f.reverse).done(function(b,e,h,j,k){c();f.duplicateCachedPage&&f.duplicateCachedPage.remove();k||a.mobile.focusPage(g);d();i.trigger("pagechange",
r)})}}}};a.mobile.changePage.defaults={transition:e,reverse:!1,changeHash:!0,fromHashChange:!1,role:e,duplicateCachedPage:e,pageContainer:e,showLoadMsg:!0,dataUrl:e,fromPage:e,allowSamePageTransition:!1};a.mobile.navreadyDeferred=a.Deferred();a.mobile.navreadyDeferred.done(function(){a(m).delegate("form","submit",function(b){var c=a(this);if(a.mobile.ajaxEnabled&&!c.is(":jqmData(ajax='false')")&&c.jqmHijackable().length){var d=c.attr("method"),e=c.attr("target"),g=c.attr("action");g||(g=f(c),g===
s.hrefNoHash&&(g=u.hrefNoSearch));g=k.makeUrlAbsolute(g,f(c));k.isExternal(g)&&!k.isPermittedCrossDomainRequest(u,g)||e||(a.mobile.changePage(g,{type:d&&d.length&&d.toLowerCase()||"get",data:c.serialize(),transition:c.jqmData("transition"),reverse:"reverse"===c.jqmData("direction"),reloadPage:!0}),b.preventDefault())}});a(m).bind("vclick",function(b){!(1<b.which)&&a.mobile.linkBindingEnabled&&(b=h(b.target),a(b).jqmHijackable().length&&b&&"#"!==k.parseUrl(b.getAttribute("href")||"#").hash&&(c(!0),
r=a(b).closest(".ui-btn").not(".ui-disabled"),r.addClass(a.mobile.activeBtnClass)))});a(m).bind("click",function(b){if(a.mobile.linkBindingEnabled){var d=h(b.target),g=a(d),j;if(d&&!(1<b.which)&&g.jqmHijackable().length){j=function(){p.setTimeout(function(){c(!0)},200)};if(g.is(":jqmData(rel='back')"))return a.mobile.back(),!1;var i=f(g),d=k.makeUrlAbsolute(g.attr("href")||"#",i);if(!a.mobile.ajaxEnabled&&!k.isEmbeddedPage(d))j();else{if(-1!==d.search("#")){d=d.replace(/[^#]*#/,"");if(!d){b.preventDefault();
return}k.isPath(d)?d=k.makeUrlAbsolute(d,i):d=k.makeUrlAbsolute("#"+d,u.hrefNoHash)}if(g.is("[rel='external']")||g.is(":jqmData(ajax='false')")||g.is("[target]")||k.isExternal(d)&&!k.isPermittedCrossDomainRequest(u,d))j();else{j=g.jqmData("transition");var i="reverse"===g.jqmData("direction")||g.jqmData("back"),l=g.attr("data-"+a.mobile.ns+"rel")||e;a.mobile.changePage(d,{transition:j,reverse:i,role:l,link:g});b.preventDefault()}}}}});a(m).delegate(".ui-page","pageshow.prefetch",function(){var b=
[];a(this).find("a:jqmData(prefetch)").each(function(){var c=a(this),d=c.attr("href");d&&-1===a.inArray(d,b)&&(b.push(d),a.mobile.loadPage(d,{role:c.attr("data-"+a.mobile.ns+"rel")}))})});a.mobile._handleHashChange=function(b){var c=k.stripHash(b),b=0===a.mobile.urlHistory.stack.length?"none":e,d=new a.Event("navigate"),g={transition:b,changeHash:!1,fromHashChange:!0};0===n.stack.length&&(n.initialDst=c);a.mobile.pageContainer.trigger(d);if(!d.isDefaultPrevented())if(!a.mobile.hashListeningEnabled||
n.ignoreNextHashChange)n.ignoreNextHashChange=!1;else{if(1<n.stack.length&&-1<c.indexOf(q)&&n.initialDst!==c){if(!a.mobile.activePage.is(".ui-dialog")){n.directHashChange({currentUrl:c,isBack:function(){a.mobile.back()},isForward:function(){p.history.forward()}});return}n.directHashChange({currentUrl:c,either:function(b){var d=a.mobile.urlHistory.getActive();c=d.pageUrl;a.extend(g,{role:d.role,transition:d.transition,reverse:b})}})}c?(c="string"==typeof c&&!k.isPath(c)?k.makeUrlAbsolute("#"+c,s):
c,c===k.makeUrlAbsolute("#"+n.initialDst,s)&&n.stack.length&&n.stack[0].url!==n.initialDst.replace(q,"")&&(c=a.mobile.firstPage),a.mobile.changePage(c,g)):a.mobile.changePage(a.mobile.firstPage,g)}};i.bind("hashchange",function(){a.mobile._handleHashChange(k.parseLocation().hash)});a(m).bind("pageshow",g);a(p).bind("throttledresize",g)})})(o);(function(a,e){var c={},d=a(e),b=a.mobile.path.parseLocation(),g=a.Deferred(),j=a.Deferred();a(m).ready(a.proxy(j,"resolve"));a(m).one("mobileinit",a.proxy(g,
"resolve"));a.extend(c,{initialFilePath:b.pathname+b.search,hashChangeTimeout:200,hashChangeEnableTimer:w,initialHref:b.hrefNoHash,state:function(){return{hash:a.mobile.path.parseLocation().hash||"#"+c.initialFilePath,title:m.title,initialHref:c.initialHref}},resetUIKeys:function(b){var c="&"+a.mobile.subPageUrlKey,d=b.indexOf(a.mobile.dialogHashKey);return-1<d?b=b.slice(0,d)+"#"+b.slice(d):-1<b.indexOf(c)&&(b=b.split(c).join("#"+c)),b},nextHashChangePrevented:function(b){a.mobile.urlHistory.ignoreNextHashChange=
b;c.onHashChangeDisabled=b},onHashChange:function(){if(!c.onHashChangeDisabled){var b,d;b=a.mobile.path.parseLocation().hash;var g=a.mobile.path.isPath(b),e=g?a.mobile.path.getLocation():a.mobile.getDocumentUrl();b=g?b.replace("#",""):b;d=c.state();b=a.mobile.path.makeUrlAbsolute(b,e);g&&(b=c.resetUIKeys(b));history.replaceState(d,m.title,b)}},onPopState:function(b){(b=b.originalEvent.state)&&(clearTimeout(c.hashChangeEnableTimer),c.nextHashChangePrevented(!1),a.mobile._handleHashChange(b.hash),c.nextHashChangePrevented(!0),
c.hashChangeEnableTimer=setTimeout(function(){c.nextHashChangePrevented(!1)},c.hashChangeTimeout))},init:function(){d.bind("hashchange",c.onHashChange);d.bind("popstate",c.onPopState);""===location.hash&&history.replaceState(c.state(),m.title,a.mobile.path.getLocation())}});a.when(j,g,a.mobile.navreadyDeferred).done(function(){a.mobile.pushStateEnabled&&a.support.pushState&&c.init()})})(o,this);o.mobile.transitionFallbacks.flip="fade";o.mobile.transitionFallbacks.flow="fade";o.mobile.transitionFallbacks.pop=
"fade";(function(a){a.mobile.transitionHandlers.slide=a.mobile.transitionHandlers.simultaneous;a.mobile.transitionFallbacks.slide="fade"})(o,this);o.mobile.transitionFallbacks.slidedown="fade";o.mobile.transitionFallbacks.slidefade="fade";o.mobile.transitionFallbacks.slideup="fade";o.mobile.transitionFallbacks.turn="fade";(function(a){a.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,
url:!1,week:!1};a(m).bind("pagecreate create",function(e){var c=a.mobile.closestPageData(a(e.target)),d;c&&(d=c.options,a(e.target).find("input").not(c.keepNativeSelector()).each(function(){var b=a(this),c=this.getAttribute("type"),e=d.degradeInputs[c]||"text";if(d.degradeInputs[c]){var h=a("<div>").html(b.clone()).html(),f=-1<h.indexOf(" type=");b.replaceWith(h.replace(f?/\s+type=["']?\w+['"]?/:/\/?>/,' type="'+e+'" data-'+a.mobile.ns+'type="'+c+'"'+(f?"":">")))}}))})})(o);(function(a){a.widget("mobile.dialog",
a.mobile.widget,{options:{closeBtnText:"Close",overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var e=this,c=this.element,d=a("<a href='#' data-"+a.mobile.ns+"icon='delete' data-"+a.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),b=a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-corner-all ui-overlay-shadow"});c.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme);c.wrapInner(b).children().find(":jqmData(role='header')").prepend(d).end().children(":first-child").addClass("ui-corner-top").end().children(":last-child").addClass("ui-corner-bottom");
d.bind("click",function(){e.close()});c.bind("vclick submit",function(b){var b=a(b.target).closest("vclick"===b.type?"a":"form"),c;b.length&&!b.jqmData("transition")&&(c=a.mobile.urlHistory.getActive()||{},b.attr("data-"+a.mobile.ns+"transition",c.transition||a.mobile.defaultDialogTransition).attr("data-"+a.mobile.ns+"direction","reverse"))}).bind("pagehide",function(){a(this).find("."+a.mobile.activeBtnClass).not(".ui-slider-bg").removeClass(a.mobile.activeBtnClass)}).bind("pagebeforeshow",function(){e._isCloseable=
!0;e.options.overlayTheme&&e.element.page("removeContainerBackground").page("setContainerBackground",e.options.overlayTheme)})},close:function(){var e;this._isCloseable&&(this._isCloseable=!1,a.mobile.hashListeningEnabled?a.mobile.back():(e=a.mobile.urlHistory.getPrev().url,a.mobile.path.isPath(e)||(e=a.mobile.path.makeUrlAbsolute("#"+e)),a.mobile.changePage(e,{changeHash:!1,fromHashChange:!0})))}});a(m).delegate(a.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){a.mobile.dialog.prototype.enhance(this)})})(o,
this);(function(a){a.mobile.page.prototype.options.backBtnText="Back";a.mobile.page.prototype.options.addBackBtn=!1;a.mobile.page.prototype.options.backBtnTheme=null;a.mobile.page.prototype.options.headerTheme="a";a.mobile.page.prototype.options.footerTheme="a";a.mobile.page.prototype.options.contentTheme=null;a(m).bind("pagecreate",function(e){var c=a(e.target),d=c.data("page").options,b=c.jqmData("role"),g=d.theme;a(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",c).jqmEnhanceable().each(function(){var e=
a(this),h=e.jqmData("role"),f=e.jqmData("theme"),i=f||d.contentTheme||"dialog"===b&&g,l,k,m;e.addClass("ui-"+h);"header"===h||"footer"===h?(f=f||("header"===h?d.headerTheme:d.footerTheme)||g,e.addClass("ui-bar-"+f).attr("role","header"===h?"banner":"contentinfo"),"header"===h&&(l=e.children("a, button"),k=l.hasClass("ui-btn-left"),m=l.hasClass("ui-btn-right"),k=k||l.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,m||l.eq(1).addClass("ui-btn-right")),d.addBackBtn&&"header"===h&&1<a(".ui-page").length&&
c.jqmData("url")!==a.mobile.path.stripHash(location.hash)&&!k&&a("<a href='javascript:void(0);' class='ui-btn-left' data-"+a.mobile.ns+"rel='back' data-"+a.mobile.ns+"icon='arrow-l'>"+d.backBtnText+"</a>").attr("data-"+a.mobile.ns+"theme",d.backBtnTheme||f).prependTo(e),e.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})):"content"===h&&(i&&e.addClass("ui-body-"+i),e.attr("role","main"))})})})(o);(function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return 3===
this.nodeType&&!/\S/.test(this.nodeValue)}).remove()};a(m).bind("pagecreate create",function(e){a(":jqmData(role='fieldcontain')",e.target).jqmEnhanceable().fieldcontain()})})(o);(function(a){a.fn.grid=function(e){return this.each(function(){var c=a(this),d=a.extend({grid:null},e),b=c.children(),g={solo:1,a:2,b:3,c:4,d:5},d=d.grid;if(!d)if(5>=b.length)for(var j in g)g[j]===b.length&&(d=j);else d="a",c.addClass("ui-grid-duo");g=g[d];c.addClass("ui-grid-"+d);b.filter(":nth-child("+g+"n+1)").addClass("ui-block-a");
1<g&&b.filter(":nth-child("+g+"n+2)").addClass("ui-block-b");2<g&&b.filter(":nth-child("+g+"n+3)").addClass("ui-block-c");3<g&&b.filter(":nth-child("+g+"n+4)").addClass("ui-block-d");4<g&&b.filter(":nth-child("+g+"n+5)").addClass("ui-block-e")})}})(o);(function(a){a(m).bind("pagecreate create",function(e){a(":jqmData(role='nojs')",e.target).addClass("ui-nojs")})})(o);(function(a,e){function c(a){for(var c;a&&(!(c="string"==typeof a.className&&a.className+" ")||!(-1<c.indexOf("ui-btn ")&&0>c.indexOf("ui-disabled ")));)a=
a.parentNode;return a}a.fn.buttonMarkup=function(b){for(var c=function(b,c){f.setAttribute("data-"+a.mobile.ns+b,c);h.jqmData(b,c)},b=b&&"object"===a.type(b)?b:{},j=0;j<this.length;j++){var h=this.eq(j),f=h[0],i=a.extend({},a.fn.buttonMarkup.defaults,{icon:b.icon!==e?b.icon:h.jqmData("icon"),iconpos:b.iconpos!==e?b.iconpos:h.jqmData("iconpos"),theme:b.theme!==e?b.theme:h.jqmData("theme")||a.mobile.getInheritedTheme(h,"c"),inline:b.inline!==e?b.inline:h.jqmData("inline"),shadow:b.shadow!==e?b.shadow:
h.jqmData("shadow"),corners:b.corners!==e?b.corners:h.jqmData("corners"),iconshadow:b.iconshadow!==e?b.iconshadow:h.jqmData("iconshadow"),mini:b.mini!==e?b.mini:h.jqmData("mini")},b),l="ui-btn-inner",k,r,n,o,p,q;a.each(i,c);"popup"===h.jqmData("rel")&&h.attr("href")&&(f.setAttribute("aria-haspopup",!0),f.setAttribute("aria-owns",f.getAttribute("href")));(q=a.data("INPUT"===f.tagName||"BUTTON"===f.tagName?f.parentNode:f,"buttonElements"))?(f=q.outer,h=a(f),n=q.inner,o=q.text,a(q.icon).remove(),q.icon=
null):(n=m.createElement(i.wrapperEls),o=m.createElement(i.wrapperEls));p=i.icon?m.createElement("span"):null;d&&!q&&d();i.theme||(i.theme=a.mobile.getInheritedTheme(h,"c"));k="ui-btn ui-btn-up-"+i.theme;k+=i.shadow?" ui-shadow":"";k+=i.corners?" ui-btn-corner-all":"";i.mini!==e&&(k+=!0===i.mini?" ui-mini":" ui-fullsize");i.inline!==e&&(k+=!0===i.inline?" ui-btn-inline":" ui-btn-block");i.icon&&(i.icon="ui-icon-"+i.icon,i.iconpos=i.iconpos||"left",r="ui-icon "+i.icon,i.iconshadow&&(r+=" ui-icon-shadow"));
i.iconpos&&(k+=" ui-btn-icon-"+i.iconpos,"notext"===i.iconpos&&!h.attr("title")&&h.attr("title",h.getEncodedText()));l+=i.corners?" ui-btn-corner-all":"";i.iconpos&&"notext"===i.iconpos&&!h.attr("title")&&h.attr("title",h.getEncodedText());q&&h.removeClass(q.bcls||"");h.removeClass("ui-link").addClass(k);n.className=l;o.className="ui-btn-text";q||n.appendChild(o);if(p&&(p.className=r,!q||!q.icon))p.innerHTML="&#160;",n.appendChild(p);for(;f.firstChild&&!q;)o.appendChild(f.firstChild);q||f.appendChild(n);
q={bcls:k,outer:f,inner:n,text:o,icon:p};a.data(f,"buttonElements",q);a.data(n,"buttonElements",q);a.data(o,"buttonElements",q);p&&a.data(p,"buttonElements",q)}return this};a.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,wrapperEls:"span"};var d=function(){var b=a.mobile.buttonMarkup.hoverDelay,e,j;a(m).bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(d){var f,i=a(c(d.target)),l=d.originalEvent&&/^touch/.test(d.originalEvent.type),d=d.type;
if(i.length)if(f=i.attr("data-"+a.mobile.ns+"theme"),"vmousedown"===d)l?e=setTimeout(function(){i.removeClass("ui-btn-up-"+f).addClass("ui-btn-down-"+f)},b):i.removeClass("ui-btn-up-"+f).addClass("ui-btn-down-"+f);else if("vmousecancel"===d||"vmouseup"===d)i.removeClass("ui-btn-down-"+f).addClass("ui-btn-up-"+f);else if("vmouseover"===d||"focus"===d)l?j=setTimeout(function(){i.removeClass("ui-btn-up-"+f).addClass("ui-btn-hover-"+f)},b):i.removeClass("ui-btn-up-"+f).addClass("ui-btn-hover-"+f);else if("vmouseout"===
d||"blur"===d||"scrollstart"===d)i.removeClass("ui-btn-hover-"+f+" ui-btn-down-"+f).addClass("ui-btn-up-"+f),e&&clearTimeout(e),j&&clearTimeout(j)},"focusin focus":function(b){a(c(b.target)).addClass(a.mobile.focusClass)},"focusout blur":function(b){a(c(b.target)).removeClass(a.mobile.focusClass)}});d=null};a(m).bind("pagecreate create",function(b){a(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",b.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})})(o);
(function(a,e){a.widget("mobile.collapsible",a.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,inset:!0,mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var c=this.element,d=this.options,b=c.addClass("ui-collapsible"),g=c.children(d.heading).first(),j=c.jqmData("collapsed-icon")||d.collapsedIcon,h=c.jqmData("expanded-icon")||d.expandedIcon,
f=b.wrapInner("<div class='ui-collapsible-content'></div>").children(".ui-collapsible-content"),i=c.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");g.is("legend")&&(g=a("<div role='heading'>"+g.html()+"</div>").insertBefore(g),g.next().remove());i.length?(d.theme||(d.theme=i.jqmData("theme")||a.mobile.getInheritedTheme(i,"c")),d.contentTheme||(d.contentTheme=i.jqmData("content-theme")),d.collapsedIcon||(d.collapsedIcon=i.jqmData("collapsed-icon")),d.expandedIcon||(d.expandedIcon=
i.jqmData("expanded-icon")),d.iconPos||(d.iconPos=i.jqmData("iconpos")),i.jqmData("inset")!==e?d.inset=i.jqmData("inset"):d.inset=!0,d.mini||(d.mini=i.jqmData("mini"))):d.theme||(d.theme=a.mobile.getInheritedTheme(c,"c"));!d.inset||b.addClass("ui-collapsible-inset");f.addClass(d.contentTheme?"ui-body-"+d.contentTheme:"");j=c.jqmData("collapsed-icon")||d.collapsedIcon||"plus";h=c.jqmData("expanded-icon")||d.expandedIcon||"minus";g.insertBefore(f).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,
corners:!1,iconpos:c.jqmData("iconpos")||d.iconPos||"left",icon:j,mini:d.mini,theme:d.theme});!d.inset||g.find("a").first().add(".ui-btn-inner",c).addClass("ui-corner-top ui-corner-bottom");b.bind("expand collapse",function(c){if(!c.isDefaultPrevented()){var e=a(this),m="collapse"===c.type,n=d.contentTheme;c.preventDefault();g.toggleClass("ui-collapsible-heading-collapsed",m).find(".ui-collapsible-heading-status").text(m?d.expandCueText:d.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-"+
h,!m).toggleClass("ui-icon-"+j,m||h===j).end().find("a").first().removeClass(a.mobile.activeBtnClass);e.toggleClass("ui-collapsible-collapsed",m);f.toggleClass("ui-collapsible-content-collapsed",m).attr("aria-hidden",m);n&&d.inset&&(!i.length||b.jqmData("collapsible-last"))&&(g.find("a").first().add(g.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",m),f.toggleClass("ui-corner-bottom",!m));f.trigger("updatelayout")}}).trigger(d.collapsed?"collapse":"expand");g.bind("tap",function(){g.find("a").first().addClass(a.mobile.activeBtnClass)}).bind("click",
function(a){var c=g.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";b.trigger(c);a.preventDefault();a.stopPropagation()})}});a(m).bind("pagecreate create",function(c){a.mobile.collapsible.prototype.enhanceWithin(c.target)})})(o);(function(a,e){a.widget("mobile.collapsibleset",a.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var c=this.element.addClass("ui-collapsible-set"),d=this.options;d.theme||(d.theme=a.mobile.getInheritedTheme(c,"c"));
d.contentTheme||(d.contentTheme=c.jqmData("content-theme"));c.jqmData("inset")!==e&&(d.inset=c.jqmData("inset"));d.inset=d.inset!==e?d.inset:!0;c.jqmData("collapsiblebound")||c.jqmData("collapsiblebound",!0).bind("expand collapse",function(b){var c="collapse"===b.type,b=a(b.target).closest(".ui-collapsible");b.data("collapsible");b.jqmData("collapsible-last")&&d.inset&&(b.find(".ui-collapsible-heading").first().find("a").first().toggleClass("ui-corner-bottom",c).find(".ui-btn-inner").toggleClass("ui-corner-bottom",
c),b.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!c))}).bind("expand",function(b){b=a(b.target).closest(".ui-collapsible");b.parent().is(":jqmData(role='collapsible-set')")&&b.siblings(".ui-collapsible").trigger("collapse")})},_init:function(){var a=this.element.children(":jqmData(role='collapsible')").filter(":jqmData(collapsed='false')");this.refresh();a.trigger("expand")},refresh:function(){var c=this.options,d=this.element.children(":jqmData(role='collapsible')");a.mobile.collapsible.prototype.enhance(d.not(".ui-collapsible"));
!c.inset||(d.each(function(){a(this).jqmRemoveData("collapsible-last").find(".ui-collapsible-heading").find("a").first().removeClass("ui-corner-top ui-corner-bottom").find(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")}),d.first().find("a").first().addClass("ui-corner-top").find(".ui-btn-inner").addClass("ui-corner-top"),d.last().jqmData("collapsible-last",!0).find("a").first().addClass("ui-corner-bottom").find(".ui-btn-inner").addClass("ui-corner-bottom"))}});a(m).bind("pagecreate create",
function(c){a.mobile.collapsibleset.prototype.enhanceWithin(c.target)})})(o);(function(a,e){a.widget("mobile.navbar",a.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var c=this.element,d=c.find("a"),b=d.filter(":jqmData(icon)").length?this.options.iconpos:e;c.addClass("ui-navbar ui-mini").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid});d.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:b});c.delegate("a",
"vclick",function(b){a(b.target).hasClass("ui-disabled")||(d.removeClass(a.mobile.activeBtnClass),a(this).addClass(a.mobile.activeBtnClass))});c.closest(".ui-page").bind("pagebeforeshow",function(){d.filter(".ui-state-persist").addClass(a.mobile.activeBtnClass)})}});a(m).bind("pagecreate create",function(c){a.mobile.navbar.prototype.enhanceWithin(c.target)})})(o);(function(a){var e={};a.widget("mobile.listview",a.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",
splitTheme:"b",inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var a="",a=a+(this.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"");this.element.addClass(function(d,b){return b+" ui-listview "+a});this.refresh(!0)},_removeCorners:function(a,d){a=a.add(a.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb"));"top"===d?a.removeClass("ui-corner-top ui-corner-tr ui-corner-tl"):"bottom"===d?a.removeClass("ui-corner-bottom ui-corner-br ui-corner-bl"):a.removeClass("ui-corner-top ui-corner-tr ui-corner-tl ui-corner-bottom ui-corner-br ui-corner-bl")},
_refreshCorners:function(a){var d,b,e,j;d=this.element.children("li");b=a||0===d.filter(":visible").length?d.not(".ui-screen-hidden"):d.filter(":visible");d.filter(".ui-li-last").removeClass("ui-li-last");this.options.inset?(this._removeCorners(d),e=b.first().addClass("ui-corner-top"),e.add(e.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl"),
j=b.last().addClass("ui-corner-bottom ui-li-last"),j.add(j.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")):b.last().addClass("ui-li-last");a||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(a,d,b,e){var j={};for(j[b]=j[e]=!0;a;){if(j[a.nodeName])return a;a=a[d]}return null},_getChildrenByTagName:function(c,d,b){var e=[],j={};j[d]=j[b]=!0;for(c=c.firstChild;c;)j[c.nodeName]&&e.push(c),
c=c.nextSibling;return a(e)},_addThumbClasses:function(c){var d,b,e=c.length;for(d=0;d<e;d++)b=a(this._findFirstElementByTagName(c[d].firstChild,"nextSibling","img","IMG")),b.length&&(b.addClass("ui-li-thumb"),a(this._findFirstElementByTagName(b[0].parentNode,"parentNode","li","LI")).addClass(b.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(c){this.parentPage=this.element.closest(".ui-page");this._createSubPages();var d=this.options,b=this.element,e=b.jqmData("dividertheme")||
d.dividerTheme,j=b.jqmData("splittheme"),h=b.jqmData("spliticon"),f=this._getChildrenByTagName(b[0],"li","LI"),i=!!a.nodeName(b[0],"ol"),l=!a.support.cssPseudoElement,k=b.attr("start"),o={},n,p,v,q,t,u,s,C,z,x,B;i&&l&&b.find(".ui-li-dec").remove();i&&(k||0===k?l?s=parseFloat(k):(n=parseFloat(k)-1,b.css("counter-reset","listnumbering "+n)):l&&(s=1));d.theme||(d.theme=a.mobile.getInheritedTheme(this.element,"c"));for(var y=0,A=f.length;y<A;y++){n=f.eq(y);p="ui-li";if(c||!n.hasClass("ui-li")){v=n.jqmData("theme")||
d.theme;q=this._getChildrenByTagName(n[0],"a","A");var w="list-divider"===n.jqmData("role");q.length&&!w?(x=n.jqmData("icon"),n.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:1<q.length||!1===x?!1:x||"arrow-r",theme:v}),!1!==x&&1===q.length&&n.addClass("ui-li-has-arrow"),q.first().removeClass("ui-link").addClass("ui-link-inherit"),1<q.length&&(p+=" ui-li-has-alt",t=q.last(),u=j||t.jqmData("theme")||d.splitTheme,B=t.jqmData("icon"),t.appendTo(n).attr("title",t.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,
corners:!1,theme:v,icon:!1,iconpos:"notext"}).find(".ui-btn-inner").append(a(m.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:u,iconpos:"notext",icon:B||x||h||d.splitIcon})))):w?(p+=" ui-li-divider ui-bar-"+e,n.attr("role","heading"),i&&(k||0===k?l?s=parseFloat(k):(C=parseFloat(k)-1,n.css("counter-reset","listnumbering "+C)):l&&(s=1))):p+=" ui-li-static ui-btn-up-"+v}i&&l&&0>p.indexOf("ui-li-divider")&&(z=0<p.indexOf("ui-li-static")?n:n.find(".ui-link-inherit"),z.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+
s++ +". </span>"));o[p]||(o[p]=[]);o[p].push(n[0])}for(p in o)a(o[p]).addClass(p).children(".ui-btn-inner").addClass(p);b.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var b=a(this);b.prependTo(b.parent())}).end().find(".ui-li-count").each(function(){a(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(b.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all");this._addThumbClasses(f);
this._addThumbClasses(b.find(".ui-link-inherit"));this._refreshCorners(c);this._trigger("afterrefresh")},_idStringEscape:function(a){return a.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var c=this.element,d=c.closest(".ui-page"),b=d.jqmData("url"),g=b||d[0][a.expando],j=c.attr("id"),h=this.options,f="data-"+a.mobile.ns,i=this,l=d.find(":jqmData(role='footer')").jqmData("id"),k;"undefined"==typeof e[g]&&(e[g]=-1);j=j||++e[g];a(c.find("li>ul, li>ol").toArray().reverse()).each(function(d){var e=
a(this),g=e.attr("id")||j+"-"+d,d=e.parent(),i=a(e.prevAll().toArray().reverse()),i=i.length?i:a("<span>"+a.trim(d.contents()[0].nodeValue)+"</span>"),m=i.first().getEncodedText(),g=(b||"")+"&"+a.mobile.subPageUrlKey+"="+g,t=e.jqmData("theme")||h.theme,o=e.jqmData("counttheme")||c.jqmData("counttheme")||h.countTheme;k=!0;e.detach().wrap("<div "+f+"role='page' "+f+"url='"+g+"' "+f+"theme='"+t+"' "+f+"count-theme='"+o+"'><div "+f+"role='content'></div></div>").parent().before("<div "+f+"role='header' "+
f+"theme='"+h.headerTheme+"'><div class='ui-title'>"+m+"</div></div>").after(l?a("<div "+f+"role='footer' "+f+"id='"+l+"'>"):"").parent().appendTo(a.mobile.pageContainer).page();e=d.find("a:first");e.length||(e=a("<a/>").html(i||m).prependTo(d.empty()));e.attr("href","#"+g)}).listview();k&&d.is(":jqmData(external-page='true')")&&!1===d.data("page").options.domCache&&d.unbind("pagehide.remove").bind("pagehide.remove",function(c,e){var g=e.nextPage,f,h=new a.Event("pageremove");e.nextPage&&(f=g.jqmData("url"),
0!==f.indexOf(b+"&"+a.mobile.subPageUrlKey)&&(i.childPages().remove(),d.trigger(h),h.isDefaultPrevented()||d.removeWithDependents()))})},childPages:function(){var c=this.parentPage.jqmData("url");return a(":jqmData(url^='"+c+"&"+a.mobile.subPageUrlKey+"')")}});a(m).bind("pagecreate create",function(c){a.mobile.listview.prototype.enhanceWithin(c.target)})})(o);(function(a){a.mobile.listview.prototype.options.autodividers=!1;a.mobile.listview.prototype.options.autodividersSelector=function(a){return(a=
a.text()||null)?(a=a.slice(0,1).toUpperCase(),a):null};a(m).delegate("ul,ol","listviewcreate",function(){var e=a(this),c=e.data("listview");if(c&&c.options.autodividers){var d=function(){e.unbind("listviewafterrefresh",d);e.find("li:jqmData(role='list-divider')").remove();for(var b=e.find("li"),g=null,j,h,f=0;f<b.length;f++){j=b[f];if((h=c.options.autodividersSelector(a(j)))&&g!==h)g=m.createElement("li"),g.appendChild(m.createTextNode(h)),g.setAttribute("data-"+a.mobile.ns+"role","list-divider"),
j.parentNode.insertBefore(g,j);g=h}c.refresh();e.bind("listviewafterrefresh",d)};d()}})})(o);(function(a,e){a.widget("mobile.checkboxradio",a.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var c=this,d=this.element,b=a(d).closest("label"),g=b.length?b:a(d).closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+d[0].id+"']").first(),j=d[0].type,b=d.jqmData("mini")||d.closest("form, fieldset").jqmData("mini"),
h=j+"-on",f=j+"-off",i=d.parents(":jqmData(type='horizontal')").length?e:f,l=d.jqmData("iconpos")||d.closest("form, fieldset").jqmData("iconpos");"checkbox"!==j&&"radio"!==j||(a.extend(this,{label:g,inputtype:j,checkedClass:"ui-"+h+(i?"":" "+a.mobile.activeBtnClass),uncheckedClass:"ui-"+f,checkedicon:"ui-icon-"+h,uncheckedicon:"ui-icon-"+f}),this.options.theme||(this.options.theme=a.mobile.getInheritedTheme(this.element,"c")),g.buttonMarkup({theme:this.options.theme,icon:i,shadow:!1,mini:b,iconpos:l}),
b=m.createElement("div"),b.className="ui-"+j,d.add(g).wrapAll(b),g.bind({vmouseover:function(b){a(this).parent().is(".ui-disabled")&&b.stopPropagation()},vclick:function(a){if(d.is(":disabled"))a.preventDefault();else return c._cacheVals(),d.prop("checked","radio"===j&&!0||!d.prop("checked")),d.triggerHandler("click"),c._getInputSet().not(d).prop("checked",!1),c._updateAll(),!1}}),d.bind({vmousedown:function(){c._cacheVals()},vclick:function(){var b=a(this);b.is(":checked")?(b.prop("checked",!0),
c._getInputSet().not(b).prop("checked",!1)):b.prop("checked",!1);c._updateAll()},focus:function(){g.addClass(a.mobile.focusClass)},blur:function(){g.removeClass(a.mobile.focusClass)}}),this.refresh())},_cacheVals:function(){this._getInputSet().each(function(){a(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return"checkbox"===this.inputtype?this.element:this.element.closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+
"'][type='"+this.inputtype+"']")},_updateAll:function(){var c=this;this._getInputSet().each(function(){var d=a(this);(this.checked||"checkbox"===c.inputtype)&&d.trigger("change")}).checkboxradio("refresh")},refresh:function(){var a=this.element[0],d=this.label,b=d.find(".ui-icon");a.checked?(d.addClass(this.checkedClass).removeClass(this.uncheckedClass),b.addClass(this.checkedicon).removeClass(this.uncheckedicon)):(d.removeClass(this.checkedClass).addClass(this.uncheckedClass),b.removeClass(this.checkedicon).addClass(this.uncheckedicon));
a.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}});a(m).bind("pagecreate create",function(c){a.mobile.checkboxradio.prototype.enhanceWithin(c.target,!0)})})(o);(function(a,e){a.widget("mobile.button",a.mobile.widget,{options:{theme:null,icon:null,iconpos:null,corners:!0,shadow:!0,iconshadow:!0,initSelector:"button, [type='button'], [type='submit'], [type='reset']"},
_create:function(){var c=this.element,d,b=this.options,g;g=b.inline||c.jqmData("inline");var j=b.mini||c.jqmData("mini"),h="",f;if("A"===c[0].tagName)c.hasClass("ui-btn")||c.buttonMarkup();else{this.options.theme||(this.options.theme=a.mobile.getInheritedTheme(this.element,"c"));!~c[0].className.indexOf("ui-btn-left")||(h="ui-btn-left");!~c[0].className.indexOf("ui-btn-right")||(h="ui-btn-right");if("submit"===c.attr("type")||"reset"===c.attr("type"))h?h+=" ui-submit":h="ui-submit";a("label[for='"+
c.attr("id")+"']").addClass("ui-submit");d=this.button=a("<div></div>")[c.html()?"html":"text"](c.html()||c.val()).insertBefore(c).buttonMarkup({theme:b.theme,icon:b.icon,iconpos:b.iconpos,inline:g,corners:b.corners,shadow:b.shadow,iconshadow:b.iconshadow,mini:j}).addClass(h).append(c.addClass("ui-btn-hidden"));b=c.attr("type");g=c.attr("name");"button"!==b&&"reset"!==b&&g&&c.bind("vclick",function(){f===e&&(f=a("<input>",{type:"hidden",name:c.attr("name"),value:c.attr("value")}).insertBefore(c),
a(m).one("submit",function(){f.remove();f=e}))});c.bind({focus:function(){d.addClass(a.mobile.focusClass)},blur:function(){d.removeClass(a.mobile.focusClass)}});this.refresh()}},enable:function(){return this.element.attr("disabled",!1),this.button.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.button.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)},refresh:function(){var c=
this.element;c.prop("disabled")?this.disable():this.enable();a(this.button.data("buttonElements").text)[c.html()?"html":"text"](c.html()||c.val())}});a(m).bind("pagecreate create",function(c){a.mobile.button.prototype.enhanceWithin(c.target,!0)})})(o);(function(a){a.fn.controlgroup=function(e){function c(a,b){a.removeClass("ui-btn-corner-all ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-controlgroup-last ui-shadow").eq(0).addClass(b[0]).end().last().addClass(b[1]).addClass("ui-controlgroup-last")}
return this.each(function(){var d=a(this),b=a.extend({direction:d.jqmData("type")||"vertical",shadow:!1,excludeInvisible:!0,mini:d.jqmData("mini")},e),g=d.children("legend"),j=d.children(".ui-controlgroup-label"),h=d.children(".ui-controlgroup-controls"),f="horizontal"===b.direction?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];d.find("input").first().attr("type");h.length&&h.contents().unwrap();d.wrapInner("<div class='ui-controlgroup-controls'></div>");g.length?(a("<div role='heading' class='ui-controlgroup-label'>"+
g.html()+"</div>").insertBefore(d.children(0)),g.remove()):j.length&&d.prepend(j);d.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+b.direction);c(d.find(".ui-btn"+(b.excludeInvisible?":visible":"")).not(".ui-slider-handle"),f);c(d.find(".ui-btn-inner"),f);b.shadow&&d.addClass("ui-shadow");b.mini&&d.addClass("ui-mini")})}})(o);(function(a){a(m).bind("pagecreate create",function(e){a(e.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})})(o);
(function(a,e){function c(a,c,d,e){return a<c||Math.min(Math.max(d,e-c/2),d+a-c),e}function d(){var b=a(p);return{x:b.scrollLeft(),y:b.scrollTop(),cx:p.innerWidth||b.width(),cy:p.innerHeight||b.height()}}a.widget("mobile.popup",a.mobile.widget,{options:{theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,initSelector:":jqmData(role='popup')",closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",
history:!a.mobile.browser.ie},_eatEventAndClose:function(a){return a.preventDefault(),a.stopImmediatePropagation(),this.close(),!1},_resizeScreen:function(){var a=this._ui.container.outerHeight(!0);this._ui.screen.removeAttr("style");a>this._ui.screen.height()&&this._ui.screen.height(a)},_handleWindowKeyUp:function(b){if(this._isOpen&&b.keyCode===a.mobile.keyCode.ESCAPE)return this._eatEventAndClose(b)},_maybeRefreshTimeout:function(){var b=d();if(this._resizeData){if(b.x===this._resizeData.winCoords.x&&
b.y===this._resizeData.winCoords.y&&b.cx===this._resizeData.winCoords.cx&&b.cy===this._resizeData.winCoords.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:setTimeout(a.proxy(this,"_resizeTimeout"),200),winCoords:b},!0},_resizeTimeout:function(){this._maybeRefreshTimeout()||(this._trigger("beforeposition"),this._ui.container.removeClass("ui-selectmenu-hidden").offset(this._placementCoords(this._desiredCoords(e,e,"window"))),this._resizeScreen(),this._resizeData=
null,this._orientationchangeInProgress=!1)},_handleWindowResize:function(){this._isOpen&&this._maybeRefreshTimeout()},_handleWindowOrientationchange:function(){this._orientationchangeInProgress||(this._ui.container.addClass("ui-selectmenu-hidden").removeAttr("style"),this._orientationchangeInProgress=!0)},_create:function(){var b={screen:a("<div class='ui-screen-hidden ui-popup-screen'></div>"),placeholder:a("<div style='display: none;'><\!-- placeholder --\></div>"),container:a("<div class='ui-popup-container ui-selectmenu-hidden'></div>")},
c=this.element.closest(".ui-page"),d=this.element.attr("id"),h=this;this.options.history=this.options.history&&a.mobile.ajaxEnabled&&a.mobile.hashListeningEnabled;0===c.length&&(c=a("body"));this.options.container=this.options.container||a.mobile.pageContainer;c.append(b.screen);b.container.insertAfter(b.screen);b.placeholder.insertAfter(this.element);d&&(b.screen.attr("id",d+"-screen"),b.container.attr("id",d+"-popup"),b.placeholder.html("<\!-- placeholder for "+d+" --\>"));b.container.append(this.element);
this.element.addClass("ui-popup");a.extend(this,{_page:c,_ui:b,_fallbackTransition:"",_currentTransition:!1,_prereqs:null,_isOpen:!1,_tolerance:null,_resizeData:null,_orientationchangeInProgress:!1,_globalHandlers:[{src:a(p),handler:{orientationchange:a.proxy(this,"_handleWindowOrientationchange"),resize:a.proxy(this,"_handleWindowResize"),keyup:a.proxy(this,"_handleWindowKeyUp")}}]});a.each(this.options,function(a,b){h.options[a]=e;h._setOption(a,b,!0)});b.screen.bind("vclick",a.proxy(this,"_eatEventAndClose"));
a.each(this._globalHandlers,function(a,b){b.src.bind(b.handler)})},_applyTheme:function(a,c,d){for(var e=(a.attr("class")||"").split(" "),f=null,i=""+c;0<e.length;){f=e.pop();if((f=RegExp("^ui-"+d+"-([a-z])$").exec(f))&&1<f.length){f=f[1];break}f=null}c!==f&&(a.removeClass("ui-"+d+"-"+f),null!==c&&"none"!==c&&a.addClass("ui-"+d+"-"+i))},_setTheme:function(a){this._applyTheme(this.element,a,"body")},_setOverlayTheme:function(a){this._applyTheme(this._ui.screen,a,"overlay");this._isOpen&&this._ui.screen.addClass("in")},
_setShadow:function(a){this.element.toggleClass("ui-overlay-shadow",a)},_setCorners:function(a){this.element.toggleClass("ui-corner-all",a)},_applyTransition:function(b){this._ui.container.removeClass(this._fallbackTransition);b&&"none"!==b&&(this._fallbackTransition=a.mobile._maybeDegradeTransition(b),this._ui.container.addClass(this._fallbackTransition))},_setTransition:function(a){this._currentTransition||this._applyTransition(a)},_setTolerance:function(b){var c={t:30,r:15,b:30,l:15};if(b){var d=
(""+b).split(",");a.each(d,function(a,b){d[a]=parseInt(b,10)});switch(d.length){case 1:isNaN(d[0])||(c.t=c.r=c.b=c.l=d[0]);break;case 2:isNaN(d[0])||(c.t=c.b=d[0]);isNaN(d[1])||(c.l=c.r=d[1]);break;case 4:isNaN(d[0])||(c.t=d[0]),isNaN(d[1])||(c.r=d[1]),isNaN(d[2])||(c.b=d[2]),isNaN(d[3])||(c.l=d[3])}}this._tolerance=c},_setOption:function(b,c){var d="_set"+b.charAt(0).toUpperCase()+b.slice(1);this[d]!==e&&this[d](c);a.mobile.widget.prototype._setOption.apply(this,arguments);-1===a.inArray(b,"initSelector,closeLinkSelector,closeLinkEvents,navigateEvents,closeEvents,history,container".split(","))&&
this.element.attr("data-"+(a.mobile.ns||"")+b.replace(/([A-Z])/,"-$1").toLowerCase(),c)},_placementCoords:function(a){var e,j,h;h=d();e=this._tolerance.l;var f=h.y+this._tolerance.t,i=h.cx-this._tolerance.l-this._tolerance.r,l=h.cy-this._tolerance.t-this._tolerance.b;this._ui.container.css("max-width",i);j=this._ui.container.outerWidth(!0);h=this._ui.container.outerHeight(!0);e=c(i,j,e,a.x);a=c(l,h,f,a.y);a=Math.max(0,a);f=m.documentElement;i=m.body;f=Math.max(f.clientHeight,i.scrollHeight,i.offsetHeight,
f.scrollHeight,f.offsetHeight);return a-=Math.min(a,Math.max(0,a+h-f)),{left:e,top:a}},_createPrereqs:function(b,c,d){var e=this,f;f={screen:a.Deferred(),container:a.Deferred()};f.screen.then(function(){f===e._prereqs&&b()});f.container.then(function(){f===e._prereqs&&c()});a.when(f.screen,f.container).done(function(){f===e._prereqs&&(e._prereqs=null,d())});e._prereqs=f},_animate:function(b){this._ui.screen.removeClass(b.classToRemove).addClass(b.screenClassToAdd);b.prereqs.screen.resolve();b.transition&&
"none"!==b.transition?(b.applyTransition&&this._applyTransition(b.transition),this._ui.container.animationComplete(a.proxy(b.prereqs.container,"resolve")).addClass(b.containerClassToAdd).removeClass(b.classToRemove)):b.prereqs.container.resolve()},_desiredCoords:function(b,c,e){var h=null,f,i=d();if(e&&"origin"!==e)if("window"===e)b=i.cx/2+i.x,c=i.cy/2+i.y;else{try{h=a(e)}catch(l){h=null}h&&(h.filter(":visible"),0===h.length&&(h=null))}h&&(f=h.offset(),b=f.left+h.outerWidth()/2,c=f.top+h.outerHeight()/
2);if("number"!==a.type(b)||isNaN(b))b=i.cx/2+i.x;if("number"!==a.type(c)||isNaN(c))c=i.cy/2+i.y;return{x:b,y:c}},_openPrereqsComplete:function(){var a=this;a._ui.container.addClass("ui-popup-active");a._isOpen=!0;a._resizeScreen();setTimeout(function(){a._ui.container.attr("tabindex","0").focus();a._trigger("afteropen")})},_open:function(b){var c,d;c=navigator.userAgent;d=c.match(/AppleWebKit\/([0-9\.]+)/);d=!!d&&d[1];var e=c.match(/Android (\d+(?:\.\d+))/),f=!!e&&e[1];c=-1<c.indexOf("Chrome");d=
null!==e&&"4.0"===f&&d&&534.13<d&&!c?!0:!1;b=b||{};c=b.transition||this.options.transition;this._trigger("beforeposition");b=this._placementCoords(this._desiredCoords(b.x,b.y,b.positionTo||this.options.positionTo||"origin"));this._createPrereqs(a.noop,a.noop,a.proxy(this,"_openPrereqsComplete"));c?(this._currentTransition=c,this._applyTransition(c)):c=this.options.transition;this.options.theme||this._setTheme(this._page.jqmData("theme")||a.mobile.getInheritedTheme(this._page,"c"));this._ui.screen.removeClass("ui-screen-hidden");
this._ui.container.removeClass("ui-selectmenu-hidden").offset(b);this.options.overlayTheme&&d&&this.element.closest(".ui-page").addClass("ui-popup-open");this._animate({additionalCondition:!0,transition:c,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prereqs:this._prereqs})},_closePrereqScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrereqContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-selectmenu-hidden").removeAttr("style")},
_closePrereqsDone:function(){var b=this.options;this._ui.container.removeAttr("tabindex");b.container.unbind(b.closeEvents);this.element.undelegate(b.closeLinkSelector,b.closeLinkEvents);a.mobile.popup.active=e;this._trigger("afterclose")},_close:function(){this._ui.container.removeClass("ui-popup-active");this._page.removeClass("ui-popup-open");this._isOpen=!1;this._createPrereqs(a.proxy(this,"_closePrereqScreen"),a.proxy(this,"_closePrereqContainer"),a.proxy(this,"_closePrereqsDone"));this._animate({additionalCondition:this._ui.screen.hasClass("in"),
transition:this._currentTransition||this.options.transition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prereqs:this._prereqs})},_destroy:function(){this._close();this._setTheme("none");this.element.insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all");this._ui.screen.remove();this._ui.container.remove();this._ui.placeholder.remove();a.each(this._globalHandlers,function(b,c){a.each(c.handler,function(a,b){c.src.unbind(a,
b)})})},_bindContainerClose:function(){this.options.container.one(this.options.closeEvents,a.proxy(this._close,this))},open:function(b){var c=this,d=this.options,h,f,i,l,k;a.mobile.popup.active||(a.mobile.popup.active=this,d.history?(f=a.mobile.dialogHashKey,i=a.mobile.activePage.is(".ui-dialog"),h=a.mobile.urlHistory.getActive().url,l=-1<h.indexOf(f)&&!i,k=a.mobile.urlHistory,l?(c._open(b),c._bindContainerClose()):(-1===h.indexOf(f)&&!i?h+=f:h=a.mobile.path.parseLocation().hash+f,0===k.activeIndex&&
h===k.initialDst&&(h+=f),d.container.one(d.navigateEvents,function(a){a.preventDefault();c._open(b);c._bindContainerClose()}),k.ignoreNextHashChange=i,k.addNew(h,e,e,e,"dialog"),a.mobile.path.set(h))):(c._open(b),c._bindContainerClose(),c.element.delegate(d.closeLinkSelector,d.closeLinkEvents,function(){return c._close(),!1})))},close:function(){a.mobile.popup.active&&(this.options.history?a.mobile.back():this._close())}});a.mobile.popup.handleLink=function(b){var c=b.closest(":jqmData(role='page')"),
c=0===c.length?a("body"):c,c=a(a.mobile.path.parseUrl(b.attr("href")).hash,c[0]),d;c.data("popup")&&(d=b.offset(),c.popup("open",{x:d.left+b.outerWidth()/2,y:d.top+b.outerHeight()/2,transition:b.jqmData("transition"),positionTo:b.jqmData("position-to"),link:b}));setTimeout(function(){b.removeClass(a.mobile.activeBtnClass)},300)};a(m).bind("pagebeforechange",function(b,c){"popup"===c.options.role&&(a.mobile.popup.handleLink(c.options.link),b.preventDefault())});a(m).bind("pagecreate create",function(b){a.mobile.popup.prototype.enhanceWithin(b.target,
!0)})})(o);(function(a){var e=a("meta[name=viewport]"),c=e.attr("content"),d=c+",maximum-scale=1, user-scalable=no",b=c+",maximum-scale=10, user-scalable=yes",g=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(c);a.mobile.zoom=a.extend({},{enabled:!g,locked:!1,disable:function(b){!g&&!a.mobile.zoom.locked&&(e.attr("content",d),a.mobile.zoom.enabled=!1,a.mobile.zoom.locked=b||!1)},enable:function(c){!g&&(!a.mobile.zoom.locked||!0===c)&&(e.attr("content",b),a.mobile.zoom.enabled=
!0,a.mobile.zoom.locked=!1)},restore:function(){g||(e.attr("content",c),a.mobile.zoom.enabled=!0)}})})(o);(function(a){a.widget("mobile.textinput",a.mobile.widget,{options:{theme:null,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&-1<navigator.userAgent.indexOf("AppleWebKit"),initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])",
clearSearchButtonText:"clear text",disabled:!1},_create:function(){function e(){setTimeout(function(){l.toggleClass("ui-input-clear-hidden",!d.val())},0)}var c=this,d=this.element,b=this.options,g=b.theme||a.mobile.getInheritedTheme(this.element,"c"),j=" ui-body-"+g,h=!0===d.jqmData("mini"),f=h?" ui-mini":"",i,l;a("label[for='"+d.attr("id")+"']").addClass("ui-input-text");i=d.addClass("ui-input-text ui-body-"+g);"undefined"!=typeof d[0].autocorrect&&!a.support.touchOverflow&&(d[0].setAttribute("autocorrect",
"off"),d[0].setAttribute("autocomplete","off"));d.is("[type='search'],:jqmData(type='search')")?(i=d.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+j+f+"'></div>").parent(),l=a("<a href='#' class='ui-input-clear' title='"+b.clearSearchButtonText+"'>"+b.clearSearchButtonText+"</a>").bind("click",function(a){d.val("").focus().trigger("change");l.addClass("ui-input-clear-hidden");a.preventDefault()}).appendTo(i).buttonMarkup({icon:"delete",iconpos:"notext",
corners:!0,shadow:!0,mini:h}),e(),d.bind("paste cut keyup focus change blur",e)):d.addClass("ui-corner-all ui-shadow-inset"+j+f);d.focus(function(){i.addClass(a.mobile.focusClass)}).blur(function(){i.removeClass(a.mobile.focusClass)}).bind("focus",function(){b.preventFocusZoom&&a.mobile.zoom.disable(!0)}).bind("blur",function(){b.preventFocusZoom&&a.mobile.zoom.enable(!0)});if(d.is("textarea")){var k;this._keyup=function(){var a=d[0].scrollHeight;d[0].clientHeight<a&&d.height(a+15)};d.keyup(function(){clearTimeout(k);
k=setTimeout(c._keyup,100)});this._on(a(m),{pagechange:"_keyup"});a.trim(d.val())&&this._on(a(p),{load:"_keyup"})}d.attr("disabled")&&this.disable()},disable:function(){var a;return this.element.attr("disabled",!0).is("[type='search'], :jqmData(type='search')")?a=this.element.parent():a=this.element,a.addClass("ui-disabled"),this._setOption("disabled",!0)},enable:function(){var a;return this.element.attr("disabled",!1).is("[type='search'], :jqmData(type='search')")?a=this.element.parent():a=this.element,
a.removeClass("ui-disabled"),this._setOption("disabled",!1)}});a(m).bind("pagecreate create",function(e){a.mobile.textinput.prototype.enhanceWithin(e.target,!0)})})(o);(function(a){a.mobile.listview.prototype.options.filter=!1;a.mobile.listview.prototype.options.filterPlaceholder="Filter items...";a.mobile.listview.prototype.options.filterTheme="c";var e=function(a,d){return-1===a.toString().toLowerCase().indexOf(d)};a.mobile.listview.prototype.options.filterCallback=e;a(m).delegate(":jqmData(role='listview')",
"listviewcreate",function(){var c=a(this),d=c.data("listview");if(d.options.filter){var b=a("<form>",{"class":"ui-listview-filter ui-bar-"+d.options.filterTheme,role:"search"});a("<input>",{placeholder:d.options.filterPlaceholder}).attr("data-"+a.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var b=a(this),j=this.value.toLowerCase(),h=null,f=b.jqmData("lastval")+"",i=!1,l="",l=d.options.filterCallback!==e;d._trigger("beforefilter","beforefilter",{input:this});b.jqmData("lastval",
j);l||j.length<f.length||0!==j.indexOf(f)?h=c.children():h=c.children(":not(.ui-screen-hidden)");if(j){for(f=h.length-1;0<=f;f--)b=a(h[f]),l=b.jqmData("filtertext")||b.text(),b.is("li:jqmData(role=list-divider)")?(b.toggleClass("ui-filter-hidequeue",!i),i=!1):d.options.filterCallback(l,j,b)?b.toggleClass("ui-filter-hidequeue",!0):i=!0;h.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1);h.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",
!1)}else h.toggleClass("ui-screen-hidden",!1);d._refreshCorners()}).appendTo(b).textinput();d.options.inset&&b.addClass("ui-listview-filter-inset");b.bind("submit",function(){return!1}).insertBefore(c)}})})(o);(function(a,e){a.widget("mobile.slider",a.mobile.widget,{widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:!1},_create:function(){var c=this,d=this.element,b=a.mobile.getInheritedTheme(d,
"c"),g=this.options.theme||b,b=this.options.trackTheme||b,j=d[0].nodeName.toLowerCase(),h="select"===j?"ui-slider-switch":"",f=d.attr("id"),i=a("[for='"+f+"']"),l=i.attr("id")||f+"-label",i=i.attr("id",l),k=function(){return"input"===j?parseFloat(d.val()):d[0].selectedIndex},o="input"===j?parseFloat(d.attr("min")):0,n="input"===j?parseFloat(d.attr("max")):d.find("option").length-1,w=p.parseFloat(d.attr("step")||1),v=this.options.inline||!0===d.jqmData("inline")?" ui-slider-inline":"",q=this.options.mini||
d.jqmData("mini")?" ui-slider-mini":"",t=m.createElement("a"),u=a(t),f=m.createElement("div"),s=a(f),C=d.jqmData("highlight")&&"select"!==j?function(){var b=m.createElement("div");return b.className="ui-slider-bg "+a.mobile.activeBtnClass+" ui-btn-corner-all",a(b).prependTo(s)}():!1;this._type=j;t.setAttribute("href","#");f.setAttribute("role","application");f.className=["ui-slider ",h," ui-btn-down-",b," ui-btn-corner-all",v,q].join("");t.className="ui-slider-handle";f.appendChild(t);u.buttonMarkup({corners:!0,
theme:g,shadow:!0}).attr({role:"slider","aria-valuemin":o,"aria-valuemax":n,"aria-valuenow":k(),"aria-valuetext":k(),title:k(),"aria-labelledby":l});a.extend(this,{slider:s,handle:u,valuebg:C,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1});if("select"===j){g=m.createElement("div");g.className="ui-slider-inneroffset";h=0;for(l=f.childNodes.length;h<l;h++)g.appendChild(f.childNodes[h]);f.appendChild(g);u.addClass("ui-slider-handle-snapping");g=d.find("option");f=0;for(h=g.length;f<h;f++)l=
f?"a":"b",v=f?" "+a.mobile.activeBtnClass:" ui-btn-down-"+b,m.createElement("div"),q=m.createElement("span"),q.className=["ui-slider-label ui-slider-label-",l,v," ui-btn-corner-all"].join(""),q.setAttribute("role","img"),q.appendChild(m.createTextNode(g[f].innerHTML)),a(q).prependTo(s);c._labels=a(".ui-slider-label",s)}i.addClass("ui-slider");d.addClass("input"===j?"ui-slider-input":"ui-slider-switch").change(function(){c.mouseMoved||c.refresh(k(),!0)}).keyup(function(){c.refresh(k(),!0,!0)}).blur(function(){c.refresh(k(),
!0)});this._preventDocumentDrag=function(a){if(c.dragging&&!c.options.disabled)return c.mouseMoved=!0,"select"===j&&u.removeClass("ui-slider-handle-snapping"),c.refresh(a),c.userModified=c.beforeStart!==d[0].selectedIndex,!1};this._on(a(m),{vmousemove:this._preventDocumentDrag});d.bind("vmouseup",a.proxy(c._checkedRefresh,c));s.bind("vmousedown",function(a){return c.options.disabled?!1:(c.dragging=!0,c.userModified=!1,c.mouseMoved=!1,"select"===j&&(c.beforeStart=d[0].selectedIndex),c.refresh(a),c._trigger("start"),
!1)}).bind("vclick",!1);this._sliderMouseUp=function(){if(c.dragging)return c.dragging=!1,"select"===j&&(u.addClass("ui-slider-handle-snapping"),c.mouseMoved?c.userModified?c.refresh(0===c.beforeStart?1:0):c.refresh(c.beforeStart):c.refresh(0===c.beforeStart?1:0)),c.mouseMoved=!1,c._trigger("stop"),!1};this._on(s.add(m),{vmouseup:this._sliderMouseUp});s.insertAfter(d);"select"===j&&this.handle.bind({focus:function(){s.addClass(a.mobile.focusClass)},blur:function(){s.removeClass(a.mobile.focusClass)}});
this.handle.bind({vmousedown:function(){a(this).focus()},vclick:!1,keydown:function(b){var d=k();if(!c.options.disabled){switch(b.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:b.preventDefault(),c._keySliding||(c._keySliding=!0,a(this).addClass("ui-state-active"))}switch(b.keyCode){case a.mobile.keyCode.HOME:c.refresh(o);
break;case a.mobile.keyCode.END:c.refresh(n);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:c.refresh(d+w);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:c.refresh(d-w)}}},keyup:function(){c._keySliding&&(c._keySliding=!1,a(this).removeClass("ui-state-active"))}});this.refresh(e,e,!0)},_checkedRefresh:function(){this.value!=this._value()&&this.refresh(this._value())},_value:function(){return"input"===this._type?
parseFloat(this.element.val()):this.element[0].selectedIndex},refresh:function(c,d,b){(this.options.disabled||this.element.attr("disabled"))&&this.disable();this.value=this._value();var e=this.element,j=e[0].nodeName.toLowerCase(),h="input"===j?parseFloat(e.attr("min")):0,f="input"===j?parseFloat(e.attr("max")):e.find("option").length-1,i="input"===j&&0<parseFloat(e.attr("step"))?parseFloat(e.attr("step")):1;if("object"==typeof c){if(!this.dragging||c.pageX<this.slider.offset().left-8||c.pageX>this.slider.offset().left+
this.slider.width()+8)return;c=Math.round(100*((c.pageX-this.slider.offset().left)/this.slider.width()))}else null==c&&(c="input"===j?parseFloat(e.val()||0):e[0].selectedIndex),c=100*((parseFloat(c)-h)/(f-h));if(!isNaN(c)){0>c&&(c=0);100<c&&(c=100);var l=c/100*(f-h)+h,k=(l-h)%i,l=l-k;2*Math.abs(k)>=i&&(l+=0<k?i:-i);l=parseFloat(l.toFixed(5));l<h&&(l=h);l>f&&(l=f);this.handle.css("left",c+"%");this.handle.attr({"aria-valuenow":"input"===j?l:e.find("option").eq(l).attr("value"),"aria-valuetext":"input"===
j?l:e.find("option").eq(l).getEncodedText(),title:"input"===j?l:e.find("option").eq(l).getEncodedText()});this.valuebg&&this.valuebg.css("width",c+"%");if(this._labels){var h=100*(this.handle.width()/this.slider.width()),m=c&&h+(100-h)*c/100,n=100===c?0:Math.min(h+100-m,100);this._labels.each(function(){var b=a(this).is(".ui-slider-label-a");a(this).width((b?m:n)+"%")})}b||(b=!1,"input"===j?(b=e.val()!==l,e.val(l)):(b=e[0].selectedIndex!==l,e[0].selectedIndex=l),!d&&b&&e.trigger("change"))}},enable:function(){return this.element.attr("disabled",
!1),this.slider.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.slider.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)}});a(m).bind("pagecreate create",function(c){a.mobile.slider.prototype.enhanceWithin(c.target,!0)})})(o);(function(a){a.widget("mobile.selectmenu",a.mobile.widget,{options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,
iconshadow:!0,overlayTheme:"a",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&-1<navigator.userAgent.indexOf("AppleWebKit"),initSelector:"select:not( :jqmData(role='slider') )",mini:!1},_button:function(){return a("<div/>")},_setDisabled:function(a){return this.element.attr("disabled",a),this.button.attr("aria-disabled",a),this._setOption("disabled",a)},_focusButton:function(){var a=this;setTimeout(function(){a.button.focus()},
40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var e="";!~this.element[0].className.indexOf("ui-btn-left")||(e=" ui-btn-left");!~this.element[0].className.indexOf("ui-btn-right")||(e=" ui-btn-right");this.select=this.element.wrap("<div class='ui-select"+e+"'>");this.selectID=this.select.attr("id");this.label=a("label[for='"+this.selectID+"']").addClass("ui-select");this.isMultiple=this.select[0].multiple;this.options.theme||(this.options.theme=a.mobile.getInheritedTheme(this.select,
"c"))},_create:function(){this._preExtension();this._trigger("beforeCreate");this.button=this._button();var e=this,c=this.options,d=c.inline||this.select.jqmData("inline"),b=c.mini||this.select.jqmData("mini"),g=c.icon?c.iconpos||this.select.jqmData("iconpos"):!1,d=this.button.insertBefore(this.select).buttonMarkup({theme:c.theme,icon:c.icon,iconpos:g,inline:d,corners:c.corners,shadow:c.shadow,iconshadow:c.iconshadow,mini:b});this.setButtonText();c.nativeMenu&&p.opera&&p.opera.version&&d.addClass("ui-select-nativeonly");
this.isMultiple&&(this.buttonCount=a("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(d.addClass("ui-li-has-count")));(c.disabled||this.element.attr("disabled"))&&this.disable();this.select.change(function(){e.refresh()});this.build()},build:function(){var e=this;this.select.appendTo(e.button).bind("vmousedown",function(){e.button.addClass(a.mobile.activeBtnClass)}).bind("focus",function(){e.button.addClass(a.mobile.focusClass)}).bind("blur",function(){e.button.removeClass(a.mobile.focusClass)}).bind("focus vmouseover",
function(){e.button.trigger("vmouseover")}).bind("vmousemove",function(){e.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){e.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}).bind("change blur",function(){e.button.removeClass("ui-btn-down-"+e.options.theme)});e.button.bind("vmousedown",function(){e.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}).bind("mouseup",function(){e.options.preventFocusZoom&&setTimeout(function(){a.mobile.zoom.enable(!0)},
0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var a=this;return this.selected().map(function(){return a._selectOptions().index(this)}).get()},setButtonText:function(){var e=this,c=this.selected(),d=this.placeholder,b=a(m.createElement("span"));this.button.find(".ui-btn-text").html(function(){return c.length?d=c.map(function(){return a(this).text()}).get().join(", "):d=e.placeholder,b.text(d).addClass(e.select.attr("class")).addClass(c.attr("class"))})},
setButtonCount:function(){var a=this.selected();this.isMultiple&&this.buttonCount[1<a.length?"show":"hide"]().text(a.length)},refresh:function(){this.setButtonText();this.setButtonCount()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(!0);this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1);this.button.removeClass("ui-disabled")}});a(m).bind("pagecreate create",function(e){a.mobile.selectmenu.prototype.enhanceWithin(e.target,!0)})})(o);(function(a){var e=function(c){var d=
c.selectID,b=c.label,e=c.select.closest(".ui-page"),j=c._selectOptions(),h=c.isMultiple=c.select[0].multiple,f=d+"-button",i=d+"-menu",l=a("<div data-"+a.mobile.ns+"role='dialog' data-"+a.mobile.ns+"theme='"+c.options.theme+"' data-"+a.mobile.ns+"overlay-theme='"+c.options.overlayTheme+"'><div data-"+a.mobile.ns+"role='header'><div class='ui-title'>"+b.getEncodedText()+"</div></div><div data-"+a.mobile.ns+"role='content'></div></div>"),k=a("<div>",{"class":"ui-selectmenu"}).insertAfter(c.select).popup({theme:"a"}),
o=a("<ul>",{"class":"ui-selectmenu-list",id:i,role:"listbox","aria-labelledby":f}).attr("data-"+a.mobile.ns+"theme",c.options.theme).appendTo(k),n=a("<div>",{"class":"ui-header ui-bar-"+c.options.theme}).prependTo(k),w=a("<h1>",{"class":"ui-title"}).appendTo(n),v;c.isMultiple&&(v=a("<a>",{text:c.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+a.mobile.ns+"iconpos","notext").attr("data-"+a.mobile.ns+"icon","delete").appendTo(n).buttonMarkup());a.extend(c,{select:c.select,selectID:d,
buttonId:f,menuId:i,thisPage:e,menuPage:l,label:b,selectOptions:j,isMultiple:h,theme:c.options.theme,listbox:k,list:o,header:n,headerTitle:w,headerClose:v,menuPageContent:void 0,menuPageClose:void 0,placeholder:"",build:function(){var b=this;b.refresh();b.select.attr("tabindex","-1").focus(function(){a(this).blur();b.button.focus()});b.button.bind("vclick keydown",function(c){if("vclick"===c.type||c.keyCode&&(c.keyCode===a.mobile.keyCode.ENTER||c.keyCode===a.mobile.keyCode.SPACE))b.open(),c.preventDefault()});
b.list.attr("role","listbox").bind("focusin",function(b){a(b.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(b){a(b.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(d){var e=b.select[0].selectedIndex,f=b.list.find("li:not(.ui-li-divider)").index(this),g=b._selectOptions().eq(f)[0];g.selected=b.isMultiple?!g.selected:!0;b.isMultiple&&a(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",g.selected).toggleClass("ui-icon-checkbox-off",
!g.selected);(b.isMultiple||e!==f)&&b.select.trigger("change");b.isMultiple?b.list.find("li:not(.ui-li-divider)").eq(f).addClass("ui-btn-down-"+c.options.theme).find("a").first().focus():b.close();d.preventDefault()}).keydown(function(b){var d=a(b.target),e=d.closest("li"),g,f;switch(b.keyCode){case 38:return g=e.prev().not(".ui-selectmenu-placeholder"),g.is(".ui-li-divider")&&(g=g.prev()),g.length&&(d.blur().attr("tabindex","-1"),g.addClass("ui-btn-down-"+c.options.theme).find("a").first().focus()),
!1;case 40:return f=e.next(),f.is(".ui-li-divider")&&(f=f.next()),f.length&&(d.blur().attr("tabindex","-1"),f.addClass("ui-btn-down-"+c.options.theme).find("a").first().focus()),!1;case 13:case 32:return d.trigger("click"),!1}});b.menuPage.bind("pagehide",function(){b.list.appendTo(b.listbox);b._focusButton();a.mobile._bindPageRemove.call(b.thisPage)});b.listbox.bind("popupafterclose",function(){b.close()});b.isMultiple&&b.headerClose.click(function(){if("overlay"===b.menuType)return b.close(),!1});
b.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var a=this.list.find("li");return this._selectOptions().text()!==a.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(b){var c=this,d;(b||this._isRebuildRequired())&&c._buildList();d=this.selectedIndices();c.setButtonText();c.setButtonCount();c.list.find("li:not(.ui-li-divider)").removeClass(a.mobile.activeBtnClass).attr("aria-selected",!1).each(function(b){-1<
a.inArray(b,d)&&(b=a(this),b.attr("aria-selected",!0),c.isMultiple?b.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):b.is(".ui-selectmenu-placeholder")?b.next().addClass(a.mobile.activeBtnClass):b.addClass(a.mobile.activeBtnClass))})},close:function(){!this.options.disabled&&this.isOpen&&("page"===this.menuType?a.mobile.back():(this.listbox.popup("close"),this.list.appendTo(this.listbox),this._focusButton()),this.isOpen=!1)},open:function(){function b(){var e=
d.list.find("."+a.mobile.activeBtnClass+" a");0===e.length&&(e=d.list.find("li.ui-btn:not( :jqmData(placeholder='true') ) a"));e.first().focus().closest("li").addClass("ui-btn-down-"+c.options.theme)}if(!this.options.disabled){var d=this,e=a(p),g=d.list.parent(),f=g.outerHeight();g.outerWidth();a("."+a.mobile.activePageClass);var g=e.scrollTop(),h=d.button.offset().top,i=e.height();e.width();d.button.addClass(a.mobile.activeBtnClass);setTimeout(function(){d.button.removeClass(a.mobile.activeBtnClass)},
300);f>i-80||!a.support.scrollTop?(d.menuPage.appendTo(a.mobile.pageContainer).page(),d.menuPageContent=l.find(".ui-content"),d.menuPageClose=l.find(".ui-header a"),d.thisPage.unbind("pagehide.remove"),0===g&&h>i&&d.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",h)}),d.menuPage.one("pageshow",function(){b();d.isOpen=!0}),d.menuType="page",d.menuPageContent.append(d.list),d.menuPage.find("div .ui-title").text(d.label.text()),a.mobile.changePage(d.menuPage,{transition:a.mobile.defaultDialogTransition})):
(d.menuType="overlay",d.listbox.one("popupafteropen",b).popup("open",{x:d.button.offset().left+d.button.outerWidth()/2,y:d.button.offset().top+d.button.outerHeight()/2}),d.isOpen=!0)}},_buildList:function(){var b=this.options,c=this.placeholder,d=!0,e=this.isMultiple?"checkbox-off":"false";this.list.empty().filter(".ui-listview").listview("destroy");for(var g=this.select.find("option"),f=g.length,h=this.select[0],i="data-"+a.mobile.ns,j=i+"option-index",k=i+"icon",l=i+"role",i=i+"placeholder",n=m.createDocumentFragment(),
o=!1,p,r=0;r<f;r++,o=!1){var w=g[r],v=a(w),D=w.parentNode,I=v.text(),G=m.createElement("a"),J=[];G.setAttribute("href","#");G.appendChild(m.createTextNode(I));D!==h&&"optgroup"===D.nodeName.toLowerCase()&&(D=D.getAttribute("label"),D!==p&&(p=m.createElement("li"),p.setAttribute(l,"list-divider"),p.setAttribute("role","option"),p.setAttribute("tabindex","-1"),p.appendChild(m.createTextNode(D)),n.appendChild(p),p=D));d&&(!w.getAttribute("value")||0===I.length||v.jqmData("placeholder"))&&(d=!1,o=!0,
w.setAttribute(i,!0),b.hidePlaceholderMenuItems&&J.push("ui-selectmenu-placeholder"),c||(c=this.placeholder=I));v=m.createElement("li");w.disabled&&(J.push("ui-disabled"),v.setAttribute("aria-disabled",!0));v.setAttribute(j,r);v.setAttribute(k,e);o&&v.setAttribute(i,!0);v.className=J.join(" ");v.setAttribute("role","option");G.setAttribute("tabindex","-1");v.appendChild(G);n.appendChild(v)}this.list[0].appendChild(n);!this.isMultiple&&!c.length?this.header.hide():this.headerTitle.text(this.placeholder);
this.list.listview()},_button:function(){return a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};a(m).bind("selectmenubeforecreate",function(c){c=a(c.target).data("selectmenu");!c.options.nativeMenu&&0===c.element.parents(":jqmData(role='popup')").length&&e(c)})})(o);(function(a){a.widget("mobile.fixedtoolbar",a.mobile.widget,{options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-popup",
hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){var a=p,c=navigator.userAgent,d=navigator.platform,b=c.match(/AppleWebKit\/([0-9]+)/),b=!!b&&b[1],g=c.match(/Fennec\/([0-9]+)/),g=!!g&&g[1],j=c.match(/Opera Mobi\/([0-9]+)/),h=!!j&&j[1];return(-1<d.indexOf("iPhone")||-1<d.indexOf("iPad")||-1<d.indexOf("iPod"))&&b&&534>b||a.operamini&&"[object OperaMini]"==={}.toString.call(a.operamini)||j&&7458>h||-1<c.indexOf("Android")&&b&&533>b||
g&&6>g||"palmGetResource"in p&&b&&534>b||-1<c.indexOf("MeeGo")&&-1<c.indexOf("NokiaBrowser/8.5.0")?!0:!1},initSelector:":jqmData(position='fixed')"},_create:function(){var a=this.options,c=this.element,d=c.is(":jqmData(role='header')")?"header":"footer",b=c.closest(".ui-page");a.supportBlacklist()?this.destroy():(c.addClass("ui-"+d+"-fixed"),a.fullscreen?(c.addClass("ui-"+d+"-fullscreen"),b.addClass("ui-page-"+d+"-fullscreen")):b.addClass("ui-page-"+d+"-fixed"),this._addTransitionClass(),this._bindPageEvents(),
this._bindToggleHandlers())},_addTransitionClass:function(){var a=this.options.transition;a&&"none"!==a&&("slide"===a&&(a=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(a))},_bindPageEvents:function(){var e=this,c=e.options;e.element.closest(".ui-page").bind("pagebeforeshow",function(){c.disablePageZoom&&a.mobile.zoom.disable(!0);c.visibleOnPageShow||e.hide(!0)}).bind("webkitAnimationStart animationstart updatelayout",function(){c.updatePagePadding&&e.updatePagePadding(this)}).bind("pageshow",
function(){var d=this;e.updatePagePadding(d);c.updatePagePadding&&a(p).bind("throttledresize."+e.widgetName,function(){e.updatePagePadding(d)})}).bind("pagebeforehide",function(d,b){c.disablePageZoom&&a.mobile.zoom.enable(!0);c.updatePagePadding&&a(p).unbind("throttledresize."+e.widgetName);if(c.trackPersistentToolbars){var g=a(".ui-footer-fixed:jqmData(id)",this),j=a(".ui-header-fixed:jqmData(id)",this),h=g.length&&b.nextPage&&a(".ui-footer-fixed:jqmData(id='"+g.jqmData("id")+"')",b.nextPage)||a(),
f=j.length&&b.nextPage&&a(".ui-header-fixed:jqmData(id='"+j.jqmData("id")+"')",b.nextPage)||a();if(h.length||f.length)h.add(f).appendTo(a.mobile.pageContainer),b.nextPage.one("pageshow",function(){h.add(f).appendTo(this)})}})},_visible:!0,updatePagePadding:function(e){var c=this.element,d=c.is(".ui-header");this.options.fullscreen||(e=e||c.closest(".ui-page"),a(e).css("padding-"+(d?"top":"bottom"),c.outerHeight()))},_useTransition:function(e){var c=this.element,d=a(p).scrollTop(),b=c.height(),g=c.closest(".ui-page").height(),
j=a.mobile.getScreenHeight(),c=c.is(":jqmData(role='header')")?"header":"footer";return!e&&(this.options.transition&&"none"!==this.options.transition&&("header"===c&&!this.options.fullscreen&&d>b||"footer"===c&&!this.options.fullscreen&&d+j<g-b)||this.options.fullscreen)},show:function(a){var c=this.element;this._useTransition(a)?c.removeClass("out ui-fixed-hidden").addClass("in"):c.removeClass("ui-fixed-hidden");this._visible=!0},hide:function(a){var c=this.element,d="out"+("slide"===this.options.transition?
" reverse":"");this._useTransition(a)?c.addClass(d).removeClass("in").animationComplete(function(){c.addClass("ui-fixed-hidden").removeClass(d)}):c.addClass("ui-fixed-hidden").removeClass(d);this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var e=this,c=e.options;e.element.closest(".ui-page").bind("vclick",function(d){c.tapToggle&&!a(d.target).closest(c.tapToggleBlacklist).length&&e.toggle()}).bind("focusin focusout",function(d){500>screen.width&&
a(d.target).is(c.hideDuringFocus)&&!a(d.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&e["focusin"===d.type&&e._visible?"hide":"show"]()})},destroy:function(){this.element.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden");this.element.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}});a(m).bind("pagecreate create",function(e){a(e.target).jqmData("fullscreen")&&
a(a.mobile.fixedtoolbar.prototype.options.initSelector,e.target).not(":jqmData(fullscreen)").jqmData("fullscreen",!0);a.mobile.fixedtoolbar.prototype.enhanceWithin(e.target)})})(o);(function(a,e){if(/iPhone|iPad|iPod/.test(navigator.platform)&&-1<navigator.userAgent.indexOf("AppleWebKit")){var c=a.mobile.zoom,d,b,g,j,h;a(e).bind("orientationchange.iosorientationfix",c.enable).bind("devicemotion.iosorientationfix",function(a){d=a.originalEvent;h=d.accelerationIncludingGravity;b=Math.abs(h.x);g=Math.abs(h.y);
j=Math.abs(h.z);!e.orientation&&(7<b||(6<j&&8>g||8>j&&6<g)&&5<b)?c.enabled&&c.disable():c.enabled||c.enable()})}})(o,this);(function(a,e){function c(){d.removeClass("ui-mobile-rendering")}var d=a("html");a("head");var b=a(e);a(e.document).trigger("mobileinit");a.mobile.gradeA()&&(a.mobile.ajaxBlacklist&&(a.mobile.ajaxEnabled=!1),d.addClass("ui-mobile ui-mobile-rendering"),setTimeout(c,5E3),a.extend(a.mobile,{initializePage:function(){var d=a(":jqmData(role='page'), :jqmData(role='dialog')"),e=a.mobile.path.parseLocation().hash.replace("#",
""),h=m.getElementById(e);d.length||(d=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0));d.each(function(){var b=a(this);b.jqmData("url")||b.attr("data-"+a.mobile.ns+"url",b.attr("id")||location.pathname+location.search)});a.mobile.firstPage=d.first();a.mobile.pageContainer=d.first().parent().addClass("ui-mobile-viewport");b.trigger("pagecontainercreate");a.mobile.showPageLoadingMsg();c();!a.mobile.hashListeningEnabled||!a.mobile.path.isHashValid(location.hash)||!a(h).is(':jqmData(role="page")')&&
!a.mobile.path.isPath(e)&&e!==a.mobile.dialogHashKey?(a.mobile.path.isHashValid(location.hash)&&(a.mobile.urlHistory.initialDst=e.replace("#","")),a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0})):b.trigger("hashchange",[!0])}}),a.mobile.navreadyDeferred.resolve(),a(function(){e.scrollTo(0,1);a.mobile.defaultHomeScroll=!a.support.scrollTop||1===a(e).scrollTop()?0:1;a.fn.controlgroup&&a(m).bind("pagecreate create",function(b){a(":jqmData(role='controlgroup')",
b.target).jqmEnhanceable().controlgroup({excludeInvisible:!1})});a.mobile.autoInitializePage&&a.mobile.initializePage();b.load(a.mobile.silentScroll);a.support.cssPointerEvents||a(m).delegate(".ui-disabled","vclick",function(a){a.preventDefault();a.stopImmediatePropagation()})}))})(o,this)});
